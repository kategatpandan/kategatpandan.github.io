<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biodiversity Threats & Healthy Society | Science, Technology & Society</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #1a5d1a;
            --primary-dark: #0d3d0d;
            --primary-light: #2e8b2e;
            --secondary: #ff6b35;
            --accent: #3498db;
            --health: #e74c3c;
            --text: #2c3e50;
            --text-light: #5d6d7e;
            --light-bg: #f8f9fa;
            --white: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12);
            --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            --gradient-secondary: linear-gradient(135deg, var(--secondary) 0%, #e25822 100%);
            --gradient-accent: linear-gradient(135deg, var(--accent) 0%, #2980b9 100%);
            --gradient-health: linear-gradient(135deg, var(--health) 0%, #c0392b 100%);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        body {
            color: var(--text);
            line-height: 1.6;
            background-color: var(--light-bg);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 1rem;
            font-family: 'Montserrat', sans-serif;
        }

        p {
            margin-bottom: 1.5rem;
        }

        /* Header and Navigation */
        header {
            background-color: rgba(26, 93, 26, 0.95);
            color: var(--white);
            padding: 1.5rem 0 0;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            box-shadow: var(--shadow);
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .scrolled {
            background-color: rgba(26, 93, 26, 0.98);
            padding: 0.7rem 0 0;
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header-content {
            display: flex;
            flex-direction: column;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .logo {
            font-size: 2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
        }

        .logo i {
            margin-right: 10px;
            font-size: 2.2rem;
            transition: var(--transition);
        }

        .logo:hover i {
            transform: rotate(15deg) scale(1.1);
        }

        nav {
            width: 100%;
            display: flex;
            justify-content: flex-start;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            padding-top: 1rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            flex-wrap: nowrap;
            gap: 0.5rem;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            padding-bottom: 0.5rem;
        }

        nav ul::-webkit-scrollbar {
            display: none;
        }

        nav ul li {
            position: relative;
            flex-shrink: 0;
        }

        nav ul li a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding: 0.5rem 0.8rem;
            font-size: 0.85rem;
            border-radius: 4px;
            display: block;
            white-space: nowrap;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        nav ul li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        nav ul li a:hover::before {
            left: 100%;
        }

        nav ul li a:hover,
        nav ul li a.active {
            color: var(--secondary);
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        nav ul li a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--secondary);
        }

        .mobile-menu {
            display: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--white);
            background: none;
            border: none;
            transition: var(--transition);
        }

        .mobile-menu:hover {
            color: var(--secondary);
            transform: scale(1.1);
        }

        /* Search Bar Styles */
        .search-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-toggle {
            background: none;
            border: none;
            color: var(--white);
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .search-toggle:hover {
            background-color: rgba(255, 255, 255, 0.1);
            transform: scale(1.1);
        }

        .search-bar {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 0.5rem 1rem 0.5rem 2.5rem;
            color: var(--white);
            font-size: 0.9rem;
            width: 0;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .search-bar.active {
            width: 250px;
            opacity: 1;
            visibility: visible;
        }

        .search-bar::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-bar:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: rgba(255, 255, 255, 0.7);
            pointer-events: none;
        }

        /* Header Actions */
        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Mobile Responsive for Header */
        @media (max-width: 1200px) {
            nav ul {
                gap: 0.3rem;
            }
            
            nav ul li a {
                padding: 0.5rem 0.7rem;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 992px) {
            .header-content {
                display: grid;
                grid-template-areas: 
                    "logo mobile actions"
                    "nav nav nav";
                gap: 1rem;
                align-items: center;
            }
            
            .header-top {
                grid-area: logo;
                margin-bottom: 0;
            }
            
            .logo {
                font-size: 1.6rem;
            }
            
            .mobile-menu {
                grid-area: mobile;
                justify-self: start;
                display: block;
            }
            
            .header-actions {
                grid-area: actions;
                justify-self: end;
            }
            
            nav {
                grid-area: nav;
                justify-content: flex-start;
                border-top: 1px solid rgba(255, 255, 255, 0.2);
                padding-top: 1rem;
            }
            
            .nav-menu {
                display: block;
                width: 100%;
            }
            
            nav ul {
                flex-direction: row;
                width: 100%;
                gap: 0.3rem;
                overflow-x: auto;
            }
            
            nav ul li {
                margin: 0;
                width: auto;
            }
            
            nav ul li a {
                padding: 0.6rem 0.8rem;
                font-size: 0.8rem;
                border-radius: 4px;
                border-bottom: none;
                text-align: center;
            }
            
            nav ul li:last-child a {
                border-bottom: none;
            }
            
            .search-bar.active {
                width: 200px;
            }
        }

        @media (max-width: 768px) {
            .search-bar.active {
                position: fixed;
                top: 70px;
                left: 50%;
                transform: translateX(-50%);
                width: 90%;
                z-index: 101;
            }
            
            .header-top {
                flex-wrap: wrap;
            }
            
            .logo {
                font-size: 1.4rem;
            }
            
            .logo i {
                font-size: 1.6rem;
            }
        }

        @media (max-width: 576px) {
            .search-bar.active {
                width: 95%;
            }
            
            .logo {
                font-size: 1.2rem;
            }
            
            .logo i {
                font-size: 1.4rem;
            }
            
            nav ul li a {
                padding: 0.5rem 0.6rem;
                font-size: 0.75rem;
            }
            
            .header-actions {
                gap: 0.5rem;
            }
            
            .search-toggle {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
        }

        /* AI Voice/Video Explanation Feature */
        .ai-explanation-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 70px;
            height: 70px;
            background: var(--gradient-accent);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: var(--shadow-hover);
            cursor: pointer;
            z-index: 99;
            transition: var(--transition);
            border: none;
            animation: pulse 2s infinite;
        }

        .ai-explanation-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            animation: none;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .ai-explanation-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .ai-explanation-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .ai-explanation-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-hover);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .ai-explanation-modal.active .ai-explanation-content {
            transform: translateY(0);
        }

        .ai-explanation-header {
            background: var(--gradient-primary);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ai-explanation-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close-ai-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .close-ai-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .ai-explanation-body {
            padding: 2rem;
            max-height: 60vh;
            overflow-y: auto;
        }

        .ai-options {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .ai-option-btn {
            flex: 1;
            min-width: 150px;
            padding: 1rem;
            background: var(--light-bg);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            font-weight: 600;
        }

        .ai-option-btn:hover {
            background: rgba(26, 93, 26, 0.1);
            transform: translateY(-3px);
        }

        .ai-option-btn.active {
            background: rgba(26, 93, 26, 0.15);
            border-color: var(--primary);
            color: var(--primary-dark);
        }

        .ai-option-btn i {
            margin-right: 8px;
            font-size: 1.2rem;
        }

        .ai-voice-container {
            display: block;
        }

        .ai-voice-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .ai-voice-btn {
            padding: 0.8rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .ai-voice-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .ai-voice-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
        }

        .ai-voice-text {
            background: var(--light-bg);
            padding: 1.5rem;
            border-radius: 8px;
            max-height: 200px;
            overflow-y: auto;
            line-height: 1.6;
            border-left: 4px solid var(--primary);
        }

        .ai-section-selector {
            margin-top: 1.5rem;
        }

        .ai-section-selector label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-dark);
        }

        .ai-section-selector select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: white;
            font-size: 1rem;
            transition: var(--transition);
        }

        .ai-section-selector select:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 2px rgba(26, 93, 26, 0.2);
        }

        /* Voice Controls */
        .voice-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            padding: 0.5rem;
            background: rgba(26, 93, 26, 0.1);
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .voice-status i {
            color: var(--primary);
        }

        .voice-playing {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* Search Results Styles */
        .search-results {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding-top: 100px;
            backdrop-filter: blur(5px);
        }

        .search-results-content {
            background: var(--white);
            border-radius: var(--border-radius);
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-hover);
        }

        .search-results-content h3 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .results-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .result-item {
            padding: 1.5rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            background: var(--light-bg);
        }

        .result-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
            border-color: var(--primary-light);
        }

        .result-item h4 {
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .result-item p {
            color: var(--text-light);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .result-section {
            display: inline-block;
            background: var(--primary);
            color: var(--white);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .close-results {
            background: var(--secondary);
            color: var(--white);
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            display: block;
            margin: 0 auto;
            transition: var(--transition);
        }

        .close-results:hover {
            background: #e25822;
            transform: translateY(-2px);
        }

        /* No results message */
        .search-results-content h3 + p {
            text-align: center;
            color: var(--text-light);
            font-style: italic;
        }

        /* Hero Section - Home Page Cover */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), 
                        url('biodiversity-hero.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: var(--white);
            padding: 12rem 0 8rem;
            text-align: center;
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            margin-top: 120px;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 50%, rgba(26, 93, 26, 0.3) 0%, transparent 50%),
                        radial-gradient(circle at 70% 20%, rgba(52, 152, 219, 0.2) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(255, 107, 53, 0.2) 0%, transparent 50%);
            z-index: 0;
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            animation: fadeInUp 1s ease;
        }

        .hero .tagline {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            font-weight: 300;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2.5rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease 0.4s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .btn {
            display: inline-block;
            background-color: var(--secondary);
            color: var(--white);
            padding: 0.9rem 2rem;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            letter-spacing: 0.5px;
            margin: 0.5rem;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            background-color: #e25822;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--white);
        }

        .btn-outline:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Interactive Stats Counter */
        .stats-counter {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .stat-item {
            text-align: center;
            flex: 1;
            min-width: 150px;
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--text-light);
            font-weight: 500;
        }

        /* Key Facts Section */
        .key-facts {
            padding: 6rem 0;
            background-color: var(--white);
            position: relative;
        }

        .key-facts::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%232e8b2e" opacity="0.03"><circle cx="50" cy="50" r="2"/></svg>') repeat;
            z-index: 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            z-index: 1;
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -12px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: var(--secondary);
        }

        .section-title p {
            max-width: 700px;
            margin: 0 auto;
            color: var(--text-light);
        }

        .facts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            position: relative;
            z-index: 1;
        }

        .fact-card {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 2.5rem 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
        }

        .fact-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient-primary);
        }

        .fact-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .fact-card i {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            background: rgba(46, 139, 46, 0.1);
            width: 90px;
            height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .fact-card:hover i {
            background: rgba(46, 139, 46, 0.2);
            transform: scale(1.1);
        }

        .fact-card h3 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.4rem;
        }

        .fact-card p {
            color: var(--text-light);
            line-height: 1.7;
        }

        /* Interactive Ecosystem Visualization */
        .ecosystem-visualization {
            margin: 4rem 0;
            padding: 2.5rem;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
            z-index: 1;
            overflow: hidden;
        }
        
        .visualization-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .ecosystem-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .ecosystem-canvas-container {
            width: 100%;
            max-width: 800px;
            height: 400px;
            background: linear-gradient(to bottom, #87CEEB, #1E90FF);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        #ecosystemCanvas {
            width: 100%;
            height: 100%;
        }
        
        .ecosystem-controls {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .ecosystem-btn {
            padding: 0.8rem 1.5rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .ecosystem-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .ecosystem-info {
            background-color: var(--light-bg);
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            border-left: 4px solid var(--primary);
        }

        /* Overview Section */
        .overview {
            padding: 6rem 0;
            background-color: var(--light-bg);
            position: relative;
        }

        .overview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%233498db" opacity="0.03"><polygon points="50,0 100,50 50,100 0,50"/></svg>') repeat;
            z-index: 0;
        }

        .overview-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .overview-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
        }

        .overview-image {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .overview-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .overview-image:hover::before {
            opacity: 0.1;
        }

        .overview-image:hover {
            box-shadow: var(--shadow-hover);
        }

        .overview-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }

        .overview-image:hover img {
            transform: scale(1.05);
        }

        /* Visual Aid: Biodiversity Pyramid */
        .biodiversity-pyramid {
            margin: 4rem 0;
            padding: 2.5rem;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .pyramid-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 1.8rem;
        }

        .pyramid-levels {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
        }

        .pyramid-level {
            display: flex;
            align-items: center;
            width: 100%;
            max-width: 800px;
            padding: 1.8rem;
            border-radius: 10px;
            background-color: var(--light-bg);
            transition: var(--transition);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .pyramid-level:hover {
            transform: translateX(10px);
            box-shadow: var(--shadow);
        }

        .level-icon {
            font-size: 2.2rem;
            margin-right: 1.8rem;
            color: var(--primary);
            background: rgba(46, 139, 46, 0.1);
            width: 70px;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .level-content {
            flex: 1;
        }

        .level-content h4 {
            margin-bottom: 0.5rem;
            color: var(--primary-dark);
            font-size: 1.3rem;
        }

        .level-content p {
            color: var(--text-light);
            line-height: 1.6;
        }

        /* Interactive Species Explorer */
        .species-explorer {
            margin: 4rem 0;
            padding: 2.5rem;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
            z-index: 1;
        }
        
        .explorer-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .species-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .species-card {
            background-color: var(--light-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
        }
        
        .species-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }
        
        .species-image {
            height: 180px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .species-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 1rem;
        }
        
        .species-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }
        
        .species-status {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .species-details {
            padding: 1.5rem;
        }
        
        .species-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }
        
        .species-modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .species-modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-hover);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .species-modal.active .species-modal-content {
            transform: translateY(0);
        }
        
        .species-modal-header {
            background: var(--gradient-primary);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .species-modal-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .close-species-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }
        
        .close-species-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        .species-modal-body {
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .species-modal-image {
            border-radius: var(--border-radius);
            overflow: hidden;
            height: 300px;
            background-size: cover;
            background-position: center;
        }
        
        .species-modal-info h4 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.3rem;
        }
        
        .species-fact {
            background-color: var(--light-bg);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary);
        }

        /* Threats to Biodiversity Section */
        .threats {
            padding: 6rem 0;
            background-color: var(--white);
            position: relative;
        }

        .threats::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23e74c3c" opacity="0.03"><path d="M50,0 L100,50 L50,100 L0,50 Z"/></svg>') repeat;
            z-index: 0;
        }

        .threats-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            margin-bottom: 4rem;
            position: relative;
            z-index: 1;
        }

        .threats-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
        }

        .threats-image {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .threats-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-secondary);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .threats-image:hover::before {
            opacity: 0.1;
        }

        .threats-image:hover {
            box-shadow: var(--shadow-hover);
        }

        .threats-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }

        .threats-image:hover img {
            transform: scale(1.05);
        }

        .threats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-bottom: 4rem;
            position: relative;
            z-index: 1;
        }

        .threat-card {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 2.5rem 2rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border-top: 5px solid #e74c3c;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
        }

        .threat-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .threat-icon {
            font-size: 3rem;
            color: #e74c3c;
            margin-bottom: 1.5rem;
            background: rgba(231, 76, 60, 0.1);
            width: 90px;
            height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: var(--transition);
        }

        .threat-card:hover .threat-icon {
            background: rgba(231, 76, 60, 0.2);
            transform: scale(1.1);
        }

        .threat-card h3 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.4rem;
        }

        .threat-card p {
            color: var(--text-light);
            line-height: 1.7;
        }

        /* Interactive Impact Calculator */
        .impact-calculator {
            margin: 4rem 0;
            padding: 2.5rem;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
            z-index: 1;
        }
        
        .calculator-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        .calculator-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }
        
        .calculator-inputs {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .calculator-input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .calculator-input-group label {
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .calculator-input {
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .calculator-input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 2px rgba(26, 93, 26, 0.2);
        }
        
        .calculator-results {
            background-color: var(--light-bg);
            padding: 2rem;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-label {
            font-weight: 600;
            color: var(--primary-dark);
        }
        
        .result-value {
            font-weight: 700;
            color: var(--primary);
        }
        
        .calculate-btn {
            padding: 1rem 2rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            font-size: 1rem;
            margin-top: 1rem;
        }
        
        .calculate-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        /* Calculator Info Button */
        .calculator-info-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            background-color: var(--accent);
            color: var(--white);
            border: none;
            padding: 1rem 2rem;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            margin-top: 1.5rem;
        }

        .calculator-info-btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Calculator Info Modal */
        .calculator-info-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .calculator-info-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .calculator-info-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-hover);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .calculator-info-modal.active .calculator-info-content {
            transform: translateY(0);
        }

        .calculator-info-header {
            background: var(--gradient-primary);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .calculator-info-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close-calculator-info {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .close-calculator-info:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .calculator-info-body {
            padding: 2rem;
            max-height: 60vh;
            overflow-y: auto;
        }

        .info-content {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .info-step {
            display: flex;
            gap: 1rem;
            align-items: flex-start;
        }

        .step-number {
            background-color: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .step-content h5 {
            margin-bottom: 0.5rem;
            color: var(--primary-dark);
            font-size: 1rem;
        }

        .step-content p {
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .step-content ul {
            margin: 0.5rem 0;
            padding-left: 1rem;
        }

        .step-content li {
            margin-bottom: 0.3rem;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .step-content strong {
            color: var(--primary-dark);
        }

        .info-note {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: rgba(255, 107, 53, 0.05);
            border-radius: 6px;
            border-left: 3px solid var(--secondary);
        }

        .info-note p {
            margin-bottom: 0;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .info-note strong {
            color: var(--secondary);
        }

        /* Visual Aid: Threat Timeline */
        .threat-timeline {
            margin: 4rem 0;
            padding: 2.5rem;
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .timeline-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 1.8rem;
        }

        .timeline {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--primary);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            width: 50%;
            box-sizing: border-box;
        }

        .timeline-item:nth-child(odd) {
            left: 0;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: var(--white);
            border: 4px solid var(--primary);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }

        .timeline-item:nth-child(odd)::after {
            right: -10px;
        }

        .timeline-item:nth-child(even)::after {
            left: -10px;
        }

        .timeline-content {
            padding: 20px;
            background-color: var(--white);
            border-radius: 8px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .timeline-content:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .timeline-content h4 {
            margin-bottom: 0.5rem;
            color: var(--primary-dark);
        }

        .timeline-link {
            display: inline-block;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.9rem;
            margin-top: 0.5rem;
            padding: 0.3rem 0.8rem;
            border: 1px solid var(--primary);
            border-radius: 4px;
            transition: var(--transition);
        }

        .timeline-link:hover {
            background-color: var(--primary);
            color: var(--white);
            transform: translateY(-2px);
        }

        .timeline-source {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            font-style: italic;
            color: var(--text-light);
        }

        .timeline-source a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        .timeline-source a:hover {
            text-decoration: underline;
        }

        /* Multiple links container */
        .multiple-links {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        /* Timeline Overview Styles */
        .timeline-overview {
            background-color: var(--white);
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .overview-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .overview-item {
            text-align: center;
            padding: 1.5rem 1rem;
            background-color: var(--light-bg);
            border-radius: 8px;
            transition: var(--transition);
            border-left: 4px solid var(--primary);
        }

        .overview-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .overview-year {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .overview-text {
            font-size: 0.9rem;
            color: var(--text-light);
            line-height: 1.4;
        }

        .expand-timeline-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            background-color: var(--primary);
            color: var(--white);
            border: none;
            padding: 1rem 2rem;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
        }

        .expand-timeline-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Full Timeline Styles */
        .full-timeline {
            display: none;
            margin-top: 2rem;
            animation: fadeIn 0.5s ease;
        }

        .full-timeline.active {
            display: block;
        }

        .collapse-timeline-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            width: 100%;
            background-color: var(--secondary);
            color: var(--white);
            border: none;
            padding: 1rem 2rem;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1rem;
            margin-top: 2rem;
        }

        .collapse-timeline-btn:hover {
            background-color: #e25822;
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        /* Animation for expanding timeline */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .case-study {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 3rem;
            margin-bottom: 4rem;
            box-shadow: var(--shadow);
            position: relative;
            z-index: 1;
        }

        .case-study-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .case-study-image {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            position: relative;
        }

        .case-study-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .case-study-image:hover::before {
            opacity: 0.1;
        }

        .case-study-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }

        .case-study-image:hover img {
            transform: scale(1.05);
        }

        .case-study-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
        }

        .solutions-preview {
            background-color: var(--white);
            border-radius: var(--border-radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            position: relative;
            z-index: 1;
        }

        .solutions-preview h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
        }

        .solutions-preview ul {
            margin-bottom: 2rem;
            padding-left: 1.5rem;
        }

        .solutions-preview li {
            margin-bottom: 1rem;
            line-height: 1.6;
            position: relative;
        }

        .solutions-preview li::before {
            content: '✓';
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            left: -1.5rem;
        }

        .cta-mini {
            background-color: var(--light-bg);
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            margin-top: 2rem;
            border-left: 4px solid var(--secondary);
        }

        .cta-mini p {
            font-style: italic;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        blockquote {
            border-left: 4px solid var(--secondary);
            padding-left: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
            color: var(--text-light);
            background: rgba(255, 107, 53, 0.05);
            padding: 1.5rem;
            border-radius: 0 8px 8px 0;
        }

        cite {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
            font-style: normal;
        }

        /* Impact Section */
        .impact {
            padding: 6rem 0;
            background-color: var(--light-bg);
            position: relative;
        }

        .impact::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23ff6b35" opacity="0.03"><circle cx="50" cy="50" r="5"/></svg>') repeat;
            z-index: 0;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            position: relative;
            z-index: 1;
        }

        .impact-card {
            background-color: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .impact-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .impact-card:hover::before {
            opacity: 0.05;
        }

        .impact-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .impact-image {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .impact-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(transparent, rgba(0,0,0,0.1));
        }

        .impact-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .impact-card:hover .impact-image img {
            transform: scale(1.1);
        }

        .impact-text {
            padding: 2rem;
        }

        .impact-text h3 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.4rem;
        }

        .impact-text p {
            color: var(--text-light);
            line-height: 1.7;
        }

        /* Health Issues Section */
        .health-issues {
            padding: 6rem 0;
            background-color: var(--white);
            position: relative;
        }

        .health-issues::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23e74c3c" opacity="0.03"><path d="M50,10 L60,40 L90,40 L65,60 L75,90 L50,70 L25,90 L35,60 L10,40 L40,40 Z"/></svg>') repeat;
            z-index: 0;
        }

        .health-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            position: relative;
            z-index: 1;
        }

        .health-card {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border-left: 5px solid var(--health);
            height: 100%;
        }

        .health-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .health-card h3 {
            margin-bottom: 1rem;
            color: var(--health);
            display: flex;
            align-items: center;
            font-size: 1.3rem;
        }

        .health-card h3 i {
            margin-right: 10px;
            background: rgba(231, 76, 60, 0.1);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .health-card p {
            color: var(--text-light);
            line-height: 1.7;
        }

        /* Technology Section */
        .technology {
            padding: 6rem 0;
            background-color: var(--light-bg);
            position: relative;
        }

        .technology::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%233498db" opacity="0.03"><rect x="25" y="25" width="50" height="50"/></svg>') repeat;
            z-index: 0;
        }

        .tech-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            position: relative;
            z-index: 1;
        }

        .tech-card {
            background-color: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .tech-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-accent);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .tech-card:hover::before {
            opacity: 0.05;
        }

        .tech-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .tech-image {
            height: 200px;
            overflow: hidden;
            position: relative;
        }

        .tech-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(transparent, rgba(0,0,0,0.1));
        }

        .tech-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .tech-card:hover .tech-image img {
            transform: scale(1.1);
        }

        .tech-text {
            padding: 2rem;
        }

        .tech-text h3 {
            margin-bottom: 1rem;
            color: var(--accent);
            font-size: 1.4rem;
        }

        .tech-text p {
            color: var(--text-light);
            line-height: 1.7;
        }

        /* STS Connection Section */
        .sts-connection {
            padding: 6rem 0;
            background: linear-gradient(rgba(255,255,255,0.9), rgba(255,255,255,0.9)), 
                        url('sts-connection-bg.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
        }

        .sts-connection::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%231a5d1a" opacity="0.03"><path d="M50,10 C70,10 90,30 90,50 C90,70 70,90 50,90 C30,90 10,70 10,50 C10,30 30,10 50,10 Z"/></svg>') repeat;
            z-index: 0;
        }

        .sts-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .sts-text h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
        }

        .sts-image {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .sts-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .sts-image:hover::before {
            opacity: 0.1;
        }

        .sts-image:hover {
            box-shadow: var(--shadow-hover);
        }

        .sts-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }

        .sts-image:hover img {
            transform: scale(1.05);
        }

        /* Visual Aid: STS Interconnection Diagram */
        .sts-diagram {
            margin: 4rem 0;
            padding: 2.5rem;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border-left: 5px solid var(--primary);
            position: relative;
            z-index: 1;
        }

        .diagram-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 1.8rem;
        }

        .diagram-container {
            display: flex;
            justify-content: space-between;
            align-items: stretch;
            gap: 2rem;
            position: relative;
            z-index: 1;
        }

        .diagram-element {
            text-align: center;
            padding: 2.5rem 1.5rem;
            border-radius: var(--border-radius);
            background-color: var(--light-bg);
            transition: var(--transition);
            flex: 1;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            position: relative;
        }

        .diagram-element:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .element-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            font-size: 2rem;
        }

        .diagram-element:nth-child(1) .element-icon {
            background-color: rgba(52, 152, 219, 0.1);
            color: var(--accent);
        }

        .diagram-element:nth-child(2) .element-icon {
            background-color: rgba(26, 93, 26, 0.1);
            color: var(--primary);
        }

        .diagram-element:nth-child(3) .element-icon {
            background-color: rgba(255, 107, 53, 0.1);
            color: var(--secondary);
        }

        .diagram-element h4 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.3rem;
        }

        .diagram-element p {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 0;
        }

        .diagram-connections {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15%;
            z-index: 0;
        }

        .connection-line {
            flex: 1;
            height: 2px;
            background: linear-gradient(to right, var(--accent), var(--primary), var(--secondary));
            margin: 0 10px;
            position: relative;
        }

        .connection-line::after {
            content: '';
            position: absolute;
            top: -4px;
            right: -5px;
            width: 10px;
            height: 10px;
            background-color: var(--secondary);
            border-radius: 50%;
        }

        /* Video Resources Section */
        .video-resources {
            padding: 6rem 0;
            background-color: var(--light-bg);
            position: relative;
        }

        .video-resources::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23e74c3c" opacity="0.03"><path d="M50,10 L60,30 L80,30 L65,45 L75,70 L50,55 L25,70 L35,45 L20,30 L40,30 Z"/></svg>') repeat;
            z-index: 0;
        }

        .videos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            position: relative;
            z-index: 1;
        }

        .video-card {
            background-color: var(--white);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .video-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
        }

        .video-thumbnail {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .video-thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .video-card:hover .video-thumbnail img {
            transform: scale(1.05);
        }

        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.5rem;
            transition: var(--transition);
            cursor: pointer;
        }

        .video-card:hover .video-play-btn {
            background-color: var(--primary);
            color: white;
            transform: translate(-50%, -50%) scale(1.1);
        }

        .video-content {
            padding: 1.5rem;
        }

        .video-content h3 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.3rem;
        }

        .video-content p {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .video-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }

        .video-link:hover {
            color: var(--primary-dark);
            transform: translateX(5px);
        }

        /* Video Modal */
        .video-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .video-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .video-modal-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-hover);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .video-modal.active .video-modal-content {
            transform: translateY(0);
        }

        .video-modal-header {
            background: var(--gradient-primary);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .video-modal-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close-video-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .close-video-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .video-modal-body {
            padding: 0;
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
        }

        .video-modal-body iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        /* CTA Section */
        .cta {
            background: var(--gradient-primary);
            color: var(--white);
            text-align: center;
            padding: 6rem 0;
            position: relative;
            overflow: hidden;
        }

        .cta::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23ffffff" opacity="0.05"><circle cx="50" cy="50" r="2"/></svg>') repeat;
            z-index: 1;
        }

        .cta .container {
            position: relative;
            z-index: 2;
        }

        .cta h2 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }

        .cta p {
            max-width: 700px;
            margin: 0 auto 2.5rem;
            font-size: 1.2rem;
            opacity: 0.95;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .cta .btn {
            background-color: var(--secondary);
            color: var(--white);
            border: 2px solid var(--secondary);
            font-weight: 600;
            padding: 1rem 2.5rem;
            font-size: 1.1rem;
            transition: var(--transition);
        }

        .cta .btn:hover {
            background-color: transparent;
            border-color: var(--white);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        /* Quiz Section Styles */
        .quiz-section {
            padding: 6rem 0;
            background-color: var(--light-bg);
            position: relative;
        }

        .quiz-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%239C27B0" opacity="0.03"><path d="M50,10 L60,30 L80,30 L65,45 L75,70 L50,55 L25,70 L35,45 L20,30 L40,30 Z"/></svg>') repeat;
            z-index: 0;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: var(--white);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        .quiz-intro {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            padding: 3rem;
            align-items: center;
        }

        .quiz-image {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            position: relative;
        }

        .quiz-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .quiz-image:hover::before {
            opacity: 0.1;
        }

        .quiz-image img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.5s;
        }

        .quiz-image:hover img {
            transform: scale(1.05);
        }

        .quiz-info h3 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
            font-size: 1.6rem;
        }

        .quiz-info ul {
            list-style: none;
            margin: 1.5rem 0;
        }

        .quiz-info li {
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
        }

        .quiz-info li i {
            color: var(--primary);
            margin-right: 10px;
            font-size: 1.1rem;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            background-color: var(--primary);
            color: var(--white);
        }

        .quiz-progress {
            flex: 1;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--secondary);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
        }

        .progress-text {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .quiz-score {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .question-container {
            padding: 2rem;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            color: var(--primary-dark);
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            padding: 1.2rem 1.5rem;
            background-color: var(--light-bg);
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }

        .option:hover {
            background-color: rgba(26, 93, 26, 0.1);
            border-color: var(--primary-light);
        }

        .option.correct {
            background-color: rgba(26, 93, 26, 0.15);
            border-color: var(--primary);
            color: var(--primary-dark);
        }

        .option.incorrect {
            background-color: rgba(231, 76, 60, 0.15);
            border-color: #e74c3c;
            color: #c0392b;
        }

        .quiz-feedback {
            padding: 2rem;
            background-color: var(--light-bg);
            border-top: 1px solid #e0e0e0;
        }

        .feedback-content h4 {
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .feedback-content h4.correct {
            color: var(--primary);
        }

        .feedback-content h4.incorrect {
            color: #e74c3c;
        }

        .next-question-btn {
            margin-top: 1.5rem;
        }

        .quiz-results {
            padding: 3rem;
            text-align: center;
        }

        .results-content h3 {
            margin-bottom: 2rem;
            color: var(--primary-dark);
            font-size: 1.8rem;
        }

        .score-circle {
            position: relative;
            width: 180px;
            height: 180px;
            margin: 0 auto 2rem;
        }

        .circle-background {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: var(--light-bg);
            border: 10px solid #e0e0e0;
        }

        .circle-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .score-percentage {
            display: block;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-dark);
        }

        .score-label {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .results-message {
            margin-bottom: 2rem;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .results-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        /* Score-Based Feedback Styles */
        .score-feedback {
            margin: 2rem 0;
            padding: 2rem;
            border-radius: var(--border-radius);
            text-align: center;
            transition: all 0.5s ease;
        }

        .score-feedback.expert {
            background: linear-gradient(135deg, rgba(26, 93, 26, 0.1), rgba(46, 139, 46, 0.1));
            border: 2px solid var(--primary);
        }

        .score-feedback.advanced {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.1));
            border: 2px solid var(--accent);
        }

        .score-feedback.intermediate {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(226, 88, 34, 0.1));
            border: 2px solid var(--secondary);
        }

        .score-feedback.beginner {
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.1), rgba(192, 57, 43, 0.1));
            border: 2px solid var(--health);
        }

        .feedback-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .feedback-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .feedback-description {
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .feedback-badges {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1.5rem 0;
        }

        .badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .badge.expert {
            background-color: var(--primary);
            color: white;
        }

        .badge.advanced {
            background-color: var(--accent);
            color: white;
        }

        .badge.intermediate {
            background-color: var(--secondary);
            color: white;
        }

        .badge.beginner {
            background-color: var(--health);
            color: white;
        }

        .recommendations {
            margin-top: 1.5rem;
            text-align: left;
        }

        .recommendations h4 {
            margin-bottom: 1rem;
            color: var(--primary-dark);
        }

        .recommendations ul {
            list-style: none;
            padding-left: 0;
        }

        .recommendations li {
            margin-bottom: 0.8rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .recommendations li:before {
            content: "•";
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        /* Save Results Modal */
        .save-results-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .save-results-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .save-results-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: var(--shadow-hover);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .save-results-modal.active .save-results-content {
            transform: translateY(0);
        }

        .save-results-header {
            background: var(--gradient-primary);
            color: white;
            padding: 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .save-results-header h3 {
            margin: 0;
            font-size: 1.5rem;
        }

        .close-save-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .close-save-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .save-results-body {
            padding: 2rem;
            max-height: 60vh;
            overflow-y: auto;
        }

        .saveable-results {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .saveable-results .score-circle {
            margin-bottom: 1.5rem;
        }

        .saveable-results .feedback-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .saveable-results .feedback-title {
            font-size: 1.3rem;
            margin-bottom: 1rem;
        }

        .saveable-results .feedback-description {
            margin-bottom: 1rem;
        }

        .saveable-results .feedback-badges {
            margin: 1rem 0;
        }

        .save-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .save-btn {
            padding: 0.8rem 1.5rem;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .save-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        /* Confetti Canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        /* Editorial Staff Section */
        .editorial-staff {
            padding: 6rem 0;
            background-color: var(--white);
            position: relative;
        }

        .editorial-staff::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23795548" opacity="0.03"><path d="M50,10 C70,10 90,30 90,50 C90,70 70,90 50,90 C30,90 10,70 10,50 C10,30 30,10 50,10 Z M50,30 C40,30 30,40 30,50 C30,60 40,70 50,70 C60,70 70,60 70,50 C70,40 60,30 50,30 Z"/></svg>') repeat;
            z-index: 0;
        }

        .staff-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            position: relative;
            z-index: 1;
        }

        .staff-card {
            background-color: var(--light-bg);
            border-radius: var(--border-radius);
            padding: 2.5rem 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .staff-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--gradient-primary);
        }

        .staff-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .staff-info h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-dark);
            font-size: 1.3rem;
        }

        .staff-info p {
            color: var(--text-light);
            margin-bottom: 0;
            font-style: italic;
        }

        /* Footer */
        footer {
            background-color: var(--primary-dark);
            color: var(--white);
            padding: 4rem 0 1.5rem;
            position: relative;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23ffffff" opacity="0.03"><circle cx="50" cy="50" r="1"/></svg>') repeat;
            z-index: 0;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
            position: relative;
            z-index: 1;
        }

        .footer-column h3 {
            margin-bottom: 1.5rem;
            font-size: 1.3rem;
            position: relative;
            padding-bottom: 0.8rem;
        }

        .footer-column h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background-color: var(--secondary);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 0.8rem;
        }

        .footer-column ul li a {
            color: #ccc;
            text-decoration: none;
            transition: var(--transition);
            display: inline-block;
        }

        .footer-column ul li a:hover {
            color: var(--secondary);
            transform: translateX(5px);
        }

        .social-links {
            display: flex;
            gap: 1rem;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: var(--white);
            text-decoration: none;
            transition: var(--transition);
        }

        .social-links a:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: #ccc;
            position: relative;
            z-index: 1;
        }

        /* References Section in Footer */
        .references-footer {
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 2rem;
            position: relative;
            z-index: 1;
        }

        .references-footer h4 {
            margin-bottom: 1rem;
            font-size: 1.1rem;
            color: var(--white);
        }

        .references-footer ul {
            list-style-type: none;
        }

        .references-footer li {
            margin-bottom: 0.8rem;
            padding-bottom: 0.8rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .references-footer li:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .references-footer a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s;
            word-break: break-all;
            font-size: 0.9rem;
        }

        .references-footer a:hover {
            color: var(--secondary);
            text-decoration: underline;
        }

        .reference-description {
            color: #999;
            font-size: 0.8rem;
            margin-top: 0.3rem;
            font-style: italic;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            background: var(--gradient-primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow);
            cursor: pointer;
            z-index: 99;
            transition: var(--transition);
            border: none;
            opacity: 0;
            visibility: hidden;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        /* Loading Animation */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Floating Elements Animation */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .floating-element {
            position: absolute;
            opacity: 0.1;
            animation: float 20s infinite linear;
        }
        
        .floating-element:nth-child(1) {
            top: 10%;
            left: 5%;
            animation-delay: 0s;
            font-size: 2rem;
            color: var(--primary);
        }
        
        .floating-element:nth-child(2) {
            top: 20%;
            right: 10%;
            animation-delay: 2s;
            font-size: 1.5rem;
            color: var(--secondary);
        }
        
        .floating-element:nth-child(3) {
            bottom: 30%;
            left: 15%;
            animation-delay: 4s;
            font-size: 2.5rem;
            color: var(--accent);
        }
        
        .floating-element:nth-child(4) {
            bottom: 10%;
            right: 5%;
            animation-delay: 6s;
            font-size: 1.8rem;
            color: var(--health);
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            25% {
                transform: translateY(-20px) rotate(5deg);
            }
            50% {
                transform: translateY(0) rotate(0deg);
            }
            75% {
                transform: translateY(20px) rotate(-5deg);
            }
            100% {
                transform: translateY(0) rotate(0deg);
            }
        }

        /* Enhanced UI Elements */
        .section-divider {
            height: 1px;
            background: linear-gradient(to right, transparent, var(--primary-light), transparent);
            margin: 4rem 0;
        }

        .highlight-box {
            background: linear-gradient(135deg, var(--primary-light), var(--accent));
            color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            margin: 2rem 0;
            text-align: center;
            box-shadow: var(--shadow);
        }

        .interactive-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .interactive-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.5s;
        }

        .interactive-card:hover::before {
            left: 100%;
        }

        .interactive-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .gradient-text {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        /* Enhanced Navigation Effects */
        .nav-highlight {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background: var(--secondary);
            transition: width 0.3s ease;
        }

        nav ul li a:hover .nav-highlight {
            width: 100%;
        }

        /* Enhanced Button Styles */
        .btn-gradient {
            background: var(--gradient-primary);
            color: white;
            border: none;
        }

        .btn-gradient:hover {
            background: var(--gradient-primary);
            filter: brightness(1.1);
        }

        /* Enhanced Card Styles */
        .card-hover {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card-hover::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card-hover:hover::after {
            opacity: 1;
        }

        /* Enhanced Image Effects */
        .image-zoom {
            overflow: hidden;
            border-radius: var(--border-radius);
        }

        .image-zoom img {
            transition: transform 0.5s ease;
        }

        .image-zoom:hover img {
            transform: scale(1.05);
        }

        /* Enhanced Section Backgrounds */
        .section-bg-pattern {
            position: relative;
        }

        .section-bg-pattern::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(46, 139, 46, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(52, 152, 219, 0.1) 0%, transparent 50%);
            z-index: 0;
        }

        /* Mobile Responsive Design Improvements */
        @media (max-width: 992px) {
            .hero h1 {
                font-size: 3rem;
            }
            
            .overview-content,
            .sts-content,
            .threats-content,
            .case-study-content {
                grid-template-columns: 1fr;
            }

            .timeline::after {
                left: 31px;
            }

            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }

            .timeline-item:nth-child(even) {
                left: 0;
            }

            .timeline-item::after {
                left: 21px;
            }

            .timeline-item:nth-child(odd)::after,
            .timeline-item:nth-child(even)::after {
                left: 21px;
            }
            
            .quiz-intro {
                grid-template-columns: 1fr;
            }
            
            .ai-explanation-btn {
                width: 60px;
                height: 60px;
                bottom: 20px;
                right: 20px;
                font-size: 1.5rem;
            }
            
            .ai-options {
                flex-direction: column;
            }
            
            .back-to-top {
                left: 20px;
                bottom: 20px;
                width: 45px;
                height: 45px;
            }
            
            .diagram-container {
                flex-direction: column;
            }
            
            .calculator-container {
                grid-template-columns: 1fr;
            }
            
            .species-modal-body {
                grid-template-columns: 1fr;
            }
            
            .species-modal-image {
                height: 200px;
            }
            
            .ecosystem-controls {
                flex-direction: column;
                align-items: center;
            }
            
            .ecosystem-btn {
                width: 100%;
                justify-content: center;
            }
            
            .species-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .stats-counter {
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 10rem 0 6rem;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero .tagline {
                font-size: 1.3rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .btn-container {
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }
            
            .btn-outline {
                margin-left: 0;
            }

            .case-study-image {
                order: -1;
            }

            .quiz-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
            
            .quiz-progress {
                width: 100%;
            }
            
            .results-actions {
                flex-direction: column;
            }
            
            .save-actions {
                flex-direction: column;
            }
            
            .overview-content {
                grid-template-columns: 1fr;
            }
            
            .overview-item {
                padding: 1rem;
            }
            
            .info-step {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .step-number {
                margin-bottom: 0.5rem;
            }
        }

        @media (max-width: 576px) {
            section {
                padding: 4rem 0;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
            
            .case-study,
            .solutions-preview {
                padding: 2rem;
            }
            
            .question-container,
            .quiz-feedback,
            .quiz-results {
                padding: 1.5rem;
            }
            
            .score-circle {
                width: 150px;
                height: 150px;
            }
            
            .score-percentage {
                font-size: 2rem;
            }
            
            .ai-explanation-body {
                padding: 1.5rem;
            }
            
            .ai-voice-controls {
                flex-direction: column;
            }
            
            .ai-voice-btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* Touch-friendly improvements */
        @media (hover: none) and (pointer: coarse) {
            .btn:hover {
                transform: none;
            }
            
            .card-hover:hover {
                transform: none;
            }
            
            .fact-card:hover {
                transform: none;
            }
            
            .threat-card:hover {
                transform: none;
            }
            
            .impact-card:hover {
                transform: none;
            }
            
            .tech-card:hover {
                transform: none;
            }
            
            .video-card:hover {
                transform: none;
            }
            
            .option:hover {
                background-color: var(--light-bg);
                border-color: #e0e0e0;
            }
            
            /* Increase touch target sizes */
            .btn {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .option {
                min-height: 60px;
            }
            
            nav ul li a {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .search-toggle {
                min-width: 44px;
                min-height: 44px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Elements -->
    <div class="floating-elements">
        <div class="floating-element"><i class="fas fa-leaf"></i></div>
        <div class="floating-element"><i class="fas fa-tree"></i></div>
        <div class="floating-element"><i class="fas fa-seedling"></i></div>
        <div class="floating-element"><i class="fas fa-water"></i></div>
    </div>

    <!-- AI Voice Explanation Button -->
    <button class="ai-explanation-btn" id="aiExplanationBtn">
        <i class="fas fa-robot"></i>
    </button>

    <!-- Back to Top Button -->
    <button class="back-to-top" id="backToTop">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- AI Explanation Modal -->
    <div class="ai-explanation-modal" id="aiExplanationModal">
        <div class="ai-explanation-content">
            <div class="ai-explanation-header">
                <h3>AI Explanation</h3>
                <button class="close-ai-modal" id="closeAiModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="ai-explanation-body">
                <div class="ai-section-selector">
                    <label for="sectionSelect">Select Section to Explain:</label>
                    <select id="sectionSelect">
                        <option value="home">Home - Introduction</option>
                        <option value="key-facts">Key Facts About Biodiversity</option>
                        <option value="overview">Biodiversity Overview</option>
                        <option value="threats">Threats to Biodiversity</option>
                        <option value="impact">Impact of Biodiversity Loss</option>
                        <option value="health">Global Health Issues</option>
                        <option value="technology">Technological Advancements</option>
                        <option value="sts">STS Connection</option>
                        <option value="videos">Video Resources</option>
                    </select>
                </div>
                
                <div class="ai-voice-container" id="aiVoiceContainer">
                    <div class="ai-voice-controls">
                        <button class="ai-voice-btn" id="playVoiceBtn">
                            <i class="fas fa-play"></i> Play Explanation
                        </button>
                        <button class="ai-voice-btn" id="pauseVoiceBtn" disabled>
                            <i class="fas fa-pause"></i> Pause
                        </button>
                        <button class="ai-voice-btn" id="stopVoiceBtn" disabled>
                            <i class="fas fa-stop"></i> Stop
                        </button>
                    </div>
                    <div class="voice-status" id="voiceStatus" style="display: none;">
                        <i class="fas fa-volume-up voice-playing"></i>
                        <span>Voice explanation is playing...</span>
                    </div>
                    <div class="ai-voice-text" id="aiVoiceText">
                        <!-- Voice explanation text will be inserted here dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Calculator Info Modal -->
    <div class="calculator-info-modal" id="calculatorInfoModal">
        <div class="calculator-info-content">
            <div class="calculator-info-header">
                <h3>How the Biodiversity Impact Calculator Works</h3>
                <button class="close-calculator-info" id="closeCalculatorInfo">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="calculator-info-body">
                <div class="info-content">
                    <div class="info-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h5>Input Your Data</h5>
                            <p>Enter the forest area lost in hectares, number of species lost, and pollution level (1-10 scale).</p>
                        </div>
                    </div>
                    <div class="info-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h5>Calculation Process</h5>
                            <p>The calculator uses scientific formulas to estimate environmental impacts based on your inputs:</p>
                            <ul>
                                <li><strong>CO2 Absorption:</strong> Forests absorb approximately 6 tons of CO2 per hectare annually</li>
                                <li><strong>Economic Cost:</strong> Based on ecosystem service valuation and species extinction costs</li>
                                <li><strong>Recovery Time:</strong> Calculated based on ecosystem complexity and damage severity</li>
                                <li><strong>Ecosystem Health:</strong> Assessed through biodiversity metrics and pollution impact</li>
                            </ul>
                        </div>
                    </div>
                    <div class="info-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h5>Interpret Results</h5>
                            <p>Understand what the numbers mean for environmental sustainability and human wellbeing.</p>
                        </div>
                    </div>
                </div>
                <div class="info-note">
                    <p><strong>Note:</strong> This calculator provides estimates based on scientific models. Actual impacts may vary based on specific ecosystem characteristics and local conditions.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Save Results Modal -->
    <div class="save-results-modal" id="saveResultsModal">
        <div class="save-results-content">
            <div class="save-results-header">
                <h3>Your Quiz Results</h3>
                <button class="close-save-modal" id="closeSaveModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="save-results-body">
                <div class="saveable-results" id="saveableResults">
                    <!-- Saveable results content will be inserted here dynamically -->
                </div>
                <div class="save-actions">
                    <button class="save-btn" id="saveResults">
                        <i class="fas fa-download"></i> Save Results
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Species Modal -->
    <div class="species-modal" id="speciesModal">
        <div class="species-modal-content">
            <div class="species-modal-header">
                <h3 id="modalSpeciesName">Species Name</h3>
                <button class="close-species-modal" id="closeSpeciesModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="species-modal-body">
                <div class="species-modal-image" id="modalSpeciesImage"></div>
                <div class="species-modal-info">
                    <h4>About This Species</h4>
                    <p id="modalSpeciesDescription"></p>
                    
                    <div class="species-fact">
                        <strong>Conservation Status:</strong> <span id="modalSpeciesStatus"></span>
                    </div>
                    
                    <div class="species-fact">
                        <strong>Population Trend:</strong> <span id="modalSpeciesTrend"></span>
                    </div>
                    
                    <div class="species-fact">
                        <strong>Major Threats:</strong> <span id="modalSpeciesThreats"></span>
                    </div>
                    
                    <div class="species-fact">
                        <strong>Conservation Efforts:</strong> <span id="modalSpeciesEfforts"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Video Modal -->
    <div class="video-modal" id="videoModal">
        <div class="video-modal-content">
            <div class="video-modal-header">
                <h3 id="videoModalTitle">Video Title</h3>
                <button class="close-video-modal" id="closeVideoModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="video-modal-body">
                <iframe id="videoFrame" src="" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header id="header">
        <div class="container">
            <div class="header-content">
                <div class="header-top">
                    <div class="logo">
                        <i class="fas fa-leaf"></i>
                        <span>Biodiversity & Society</span>
                    </div>
                    <button class="mobile-menu">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="header-actions">
                        <div class="search-container">
                            <button class="search-toggle">
                                <i class="fas fa-search"></i>
                            </button>
                            <div class="search-bar">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" class="search-input" placeholder="Search...">
                            </div>
                        </div>
                    </div>
                </div>
                <nav class="nav-menu">
                    <ul>
                        <li><a href="#home" class="active">Home</a></li>
                        <li><a href="#key-facts">Key Facts</a></li>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#threats">Threats</a></li>
                        <li><a href="#impact">Impact</a></li>
                        <li><a href="#health">Health Issues</a></li>
                        <li><a href="#technology">Technology</a></li>
                        <li><a href="#sts">STS Connection</a></li>
                        <li><a href="#videos">Video Resources</a></li>
                        <li><a href="#quiz">Quiz</a></li>
                        <li><a href="#editorial-staff">Our Team</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Hero Section - Home Page Cover -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Threats to Biodiversity & The Healthy Society</h1>
                <div class="tagline">Exploring the Intersection of Science, Technology, and Society</div>
                <p>Biodiversity loss represents one of the most critical challenges of our time, with profound implications for human health, economic stability, and social well-being. This website explores how science and technology can help address these challenges while considering societal dimensions.</p>
                <div class="btn-container">
                    <a href="#key-facts" class="btn">Explore the Facts</a>
                    <a href="#videos" class="btn btn-outline">Watch Videos</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Facts Section -->
    <section class="key-facts" id="key-facts">
        <div class="container">
            <div class="section-title">
                <h2>Key Facts About Biodiversity</h2>
                <p>Critical statistics that highlight the importance of biodiversity for human health and society</p>
            </div>
            
            <!-- Interactive Stats Counter -->
            <div class="stats-counter">
                <div class="stat-item">
                    <div class="stat-number" data-target="75">0</div>
                    <div class="stat-label">Food Crops Rely on Pollinators</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-target="50">0</div>
                    <div class="stat-label">Medicines from Natural Sources</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-target="80">0</div>
                    <div class="stat-label">Terrestrial Biodiversity in Forests</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" data-target="60">0</div>
                    <div class="stat-label">Extinctions from Invasive Species</div>
                </div>
            </div>
            
            <div class="facts-grid">
                <div class="fact-card">
                    <i class="fas fa-seedling"></i>
                    <h3>Food Security</h3>
                    <p>Over 75% of global food crops rely on pollinators, contributing US$ 235–577 billion annually to global agricultural output.</p>
                </div>
                <div class="fact-card">
                    <i class="fas fa-pills"></i>
                    <h3>Medicine</h3>
                    <p>Over 50% of modern medicines are derived from natural sources, including antibiotics from fungi and painkillers from plant compounds.</p>
                </div>
                <div class="fact-card">
                    <i class="fas fa-tree"></i>
                    <h3>Climate Regulation</h3>
                    <p>Forests store 80% of terrestrial biodiversity, absorbing approximately 2.6 billion tonnes of carbon dioxide annually.</p>
                </div>
                <div class="fact-card">
                    <i class="fas fa-exclamation-triangle"></i>
                    <h3>Invasive Species</h3>
                    <p>Invasive alien species contribute to 60% of species extinctions, causing US$ 423 billion in global economic damage each year.</p>
                </div>
                <div class="fact-card">
                    <i class="fas fa-tint"></i>
                    <h3>Freshwater Resources</h3>
                    <p>Healthy ecosystems provide 75% of global freshwater resources. Since 1970, 35% of wetlands have been lost.</p>
                </div>
                <div class="fact-card">
                    <i class="fas fa-globe-americas"></i>
                    <h3>Indigenous Stewardship</h3>
                    <p>Indigenous Peoples manage over 38 million km² of land globally, including nearly 40% of all protected areas.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Overview Section -->
    <section class="overview" id="overview">
        <div class="container">
            <div class="section-title">
                <h2>Biodiversity Overview</h2>
                <p>Understanding the foundation of all life on Earth</p>
            </div>
            
            <!-- Interactive Ecosystem Visualization -->
            <div class="ecosystem-visualization">
                <h3 class="visualization-title">Interactive Ecosystem Visualization</h3>
                <div class="ecosystem-container">
                    <div class="ecosystem-canvas-container">
                        <canvas id="ecosystemCanvas"></canvas>
                    </div>
                    <div class="ecosystem-controls">
                        <button class="ecosystem-btn" id="addSpecies">
                            <i class="fas fa-plus"></i> Add Species
                        </button>
                        <button class="ecosystem-btn" id="removeSpecies">
                            <i class="fas fa-minus"></i> Remove Species
                        </button>
                        <button class="ecosystem-btn" id="simulateThreat">
                            <i class="fas fa-bolt"></i> Simulate Threat
                        </button>
                        <button class="ecosystem-btn" id="resetEcosystem">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                </div>
                <div class="ecosystem-info">
                    <p>This interactive visualization demonstrates how species interact in an ecosystem. Add species to see how biodiversity increases ecosystem resilience. Simulate threats to observe how biodiversity loss affects the entire system.</p>
                </div>
            </div>
            
            <div class="overview-content">
                <div class="overview-text">
                    <h3>The Web of Life</h3>
                    <p>Biodiversity, the variability among living organisms from all sources, underpins all life on Earth. This includes diversity within species, between species and across ecosystems, representing the genetic makeup of plants, animals, microorganisms and the complexity of ecosystems.</p>
                    <p>Healthy communities are sustained by well-functioning ecosystems, which provide critical services such as clean air, fresh water, natural medicines and food security. These ecosystems also regulate diseases and help stabilize the climate.</p>
                    <p>However, biodiversity loss is accelerating at an unprecedented rate, with approximately 1 million species at risk of extinction, threatening these vital services and exacerbating public health risks globally.</p>
                </div>
                <div class="overview-image">
                    <img src="biodiversity-ecosystem.jpg" alt="Biodiversity Ecosystem">
                </div>
            </div>
            
            <!-- Visual Aid: Biodiversity Pyramid -->
            <div class="biodiversity-pyramid">
                <h3 class="pyramid-title">The Biodiversity Pyramid</h3>
                <div class="pyramid-levels">
                    <div class="pyramid-level">
                        <i class="fas fa-dna level-icon"></i>
                        <div class="level-content">
                            <h4>Genetic Diversity</h4>
                            <p>Variation of genes within a species, enabling adaptation to changing environments.</p>
                        </div>
                    </div>
                    <div class="pyramid-level">
                        <i class="fas fa-paw level-icon"></i>
                        <div class="level-content">
                            <h4>Species Diversity</h4>
                            <p>Variety of species within a habitat or region, forming the building blocks of ecosystems.</p>
                        </div>
                    </div>
                    <div class="pyramid-level">
                        <i class="fas fa-tree level-icon"></i>
                        <div class="level-content">
                            <h4>Ecosystem Diversity</h4>
                            <p>Variety of ecosystems in a given place, each with unique interactions and functions.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Threats to Biodiversity Section -->
    <section class="threats" id="threats">
        <div class="container">
            <div class="section-title">
                <h2>Threats to Biodiversity</h2>
                <p>Understanding the mounting crisis that threatens all life on Earth</p>
            </div>
            
            <!-- Interactive Species Explorer -->
            <div class="species-explorer">
                <h3 class="explorer-title">Endangered Species Explorer</h3>
                <div class="species-grid" id="speciesGrid">
                    <!-- Species cards will be dynamically generated -->
                </div>
            </div>
            
            <div class="threats-content">
                <div class="threats-text">
                    <h3>Our Fragile Web of Life</h3>
                    <p>Without nature, we are nothing. Yet humans are destroying the environment and the living creatures that call our planet home at unprecedented rates — at our own peril. From increasing the threat of disease to disrupting our global food chain, biodiversity loss across the globe is threatening the very foundation of our future and the well-being of everyone, everywhere.</p>
                    
                    <p>The devastating effects of climate change on human health are already on display: famines triggered by once-in-a-century droughts or flooding; death and suffering wrought by some of the strongest hurricanes and heat waves in modern history.</p>
                    
                    <p>But what is less well known is how biodiversity loss is harming our health and threatening the basic ecological cycles that keep us alive.</p>
                    
                    <blockquote>
                        "Humanity has become a weapon of mass extinction. ... And ultimately, we are committing suicide by proxy."
                        <cite>— UN Secretary-General António Guterres</cite>
                    </blockquote>
                    
                    <p>One reporter called biodiversity loss a "mounting under-the-radar crisis," and disturbing signs are appearing all over the globe, from beaches awash in sargassum seaweed to massive fish die-offs in polluted waterways. In fact, according to the United Nations Environment Programme, biodiversity is declining faster than at any other time in human history. Right now more than 1 million species are facing extinction.</p>
                </div>
                <div class="threats-image">
                    <img src="threats-biodiversity.jpg" alt="Threats to Biodiversity">
                </div>
            </div>
            
            <div class="threats-grid">
                <div class="threat-card">
                    <div class="threat-icon">
                        <i class="fas fa-tree"></i>
                    </div>
                    <h3>Habitat Destruction</h3>
                    <p>One-third of the planet's land is now degraded, making it harder to feed our growing global population. Forests, wetlands, and other critical ecosystems are being cleared at alarming rates.</p>
                </div>
                <div class="threat-card">
                    <div class="threat-icon">
                        <i class="fas fa-industry"></i>
                    </div>
                    <h3>Unsustainable Practices</h3>
                    <p>Industrial practices like oil drilling, fracking, mining, and factory farming are destroying ecosystems while displacing, contaminating, and killing countless species.</p>
                </div>
                <div class="threat-card">
                    <div class="threat-icon">
                        <i class="fas fa-fish"></i>
                    </div>
                    <h3>Overexploitation</h3>
                    <p>Overfishing, illegal wildlife trade, and unsustainable harvesting are pushing many species to the brink of extinction and disrupting delicate ecological balances.</p>
                </div>
                <div class="threat-card">
                    <div class="threat-icon">
                        <i class="fas fa-temperature-high"></i>
                    </div>
                    <h3>Climate Change</h3>
                    <p>Rising temperatures, ocean acidification, and extreme weather events are disrupting ecosystems and threatening species that cannot adapt quickly enough.</p>
                </div>
                <div class="threat-card">
                    <div class="threat-icon">
                        <i class="fas fa-virus"></i>
                    </div>
                    <h3>Zoonotic Spillover</h3>
                    <p>Habitat destruction brings humans and wildlife into closer contact, dramatically increasing our risk of exposure to pathogens that jump from animals to humans.</p>
                </div>
                <div class="threat-card">
                    <div class="threat-icon">
                        <i class="fas fa-trash"></i>
                    </div>
                    <h3>Pollution</h3>
                    <p>Plastic pollution, chemical runoff, and air pollution are poisoning our land, water, and air, harming both wildlife and human health.</p>
                </div>
            </div>
            
            <!-- Interactive Impact Calculator -->
            <div class="impact-calculator">
                <h3 class="calculator-title">Biodiversity Impact Calculator</h3>
                <div class="calculator-container">
                    <div class="calculator-inputs">
                        <div class="calculator-input-group">
                            <label for="forestArea">Forest Area Lost (hectares)</label>
                            <input type="number" id="forestArea" class="calculator-input" value="1000" min="0">
                        </div>
                        <div class="calculator-input-group">
                            <label for="speciesLost">Species Lost</label>
                            <input type="number" id="speciesLost" class="calculator-input" value="5" min="0">
                        </div>
                        <div class="calculator-input-group">
                            <label for="pollutionLevel">Pollution Level (1-10)</label>
                            <input type="range" id="pollutionLevel" class="calculator-input" min="1" max="10" value="5">
                        </div>
                        <button class="calculate-btn" id="calculateImpact">Calculate Impact</button>
                        <button class="calculator-info-btn" id="calculatorInfoBtn">
                            <i class="fas fa-info-circle"></i> How This Calculator Works
                        </button>
                    </div>
                    <div class="calculator-results">
                        <h4>Environmental Impact</h4>
                        <div class="result-item">
                            <span class="result-label">CO2 Absorption Lost:</span>
                            <span class="result-value" id="co2Result">0 tons/year</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Economic Cost:</span>
                            <span class="result-value" id="economicResult">$0</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Recovery Time:</span>
                            <span class="result-value" id="recoveryResult">0 years</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Ecosystem Health:</span>
                            <span class="result-value" id="healthResult">0%</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Visual Aid: Threat Timeline -->
            <div class="threat-timeline">
                <h3 class="timeline-title">Global Biodiversity Protection Timeline</h3>
                
                <!-- Timeline Overview -->
                <div class="timeline-overview">
                    <div class="overview-content">
                        <div class="overview-item">
                            <div class="overview-year">2025</div>
                            <div class="overview-text">COP16 biodiversity negotiations</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-year">2024</div>
                            <div class="overview-text">Nature restoration law & COP16 preparations</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-year">2023</div>
                            <div class="overview-text">Nature restoration agreements</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-year">2022</div>
                            <div class="overview-text">COP15 & Kunming-Montreal framework</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-year">2020-2021</div>
                            <div class="overview-text">EU Biodiversity Strategy 2030</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-year">2010-2019</div>
                            <div class="overview-text">Mid-term reviews & strategy development</div>
                        </div>
                        <div class="overview-item">
                            <div class="overview-year">2000-2009</div>
                            <div class="overview-text">Early biodiversity policy development</div>
                        </div>
                    </div>
                    <button class="expand-timeline-btn">
                        <span>View Full Timeline</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                
                <!-- Full Timeline (Initially Hidden) -->
                <div class="full-timeline" id="fullTimeline">
                    <div class="timeline">
                        <!-- 2025 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>28 February 2025</h4>
                                <p>Positive outcome of COP16 biodiversity negotiations. A follow-up meeting resulted in adoption of strategy for resource mobilisation and enhanced monitoring framework.</p>
                                <a href="https://environment.ec.europa.eu/news/eu-welcomes-positive-cop16-biodiversity-negotiations-outcome-2025-02-28_en" target="_blank" class="timeline-link">EU welcomes positive outcome of COP16 biodiversity negotiations in Rome</a>
                            </div>
                        </div>
                        
                        <!-- 2024 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>14 October 2024</h4>
                                <p>UN biodiversity convention: EU reaffirms global pledge to protect a third of the planet by 2030. Council approved conclusions for COP16 negotiations.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2024/10/14/un-biodiversity-convention-eu-reaffirms-global-pledge-to-protect-a-third-of-the-planet-by-2030/" target="_blank" class="timeline-link">UN biodiversity convention: EU reaffirms global pledge to protect a third of the planet by 2030</a>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>17 June 2024</h4>
                                <p>Council gives final green light to nature restoration law, aiming to restore at least 20% of EU's land and sea areas by 2030.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2024/06/17/nature-restoration-law-council-gives-final-green-light/" target="_blank" class="timeline-link">Nature restoration law: Council gives final green light</a>
                            </div>
                        </div>
                        
                        <!-- 2023 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>9 November 2023</h4>
                                <p>Council and Parliament reach agreement on new rules to restore and preserve degraded habitats in the EU.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2023/11/09/nature-restoration-council-and-parliament-reach-agreement-on-new-rules-to-restore-and-preserve-degraded-habitats-in-the-eu/" target="_blank" class="timeline-link">Nature restoration: Council and Parliament reach agreement on new rules</a>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>20 June 2023</h4>
                                <p>Council reaches agreement on the nature restoration law, setting specific legally binding targets for nature restoration.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2023/06/20/council-reaches-agreement-on-the-nature-restoration-law/" target="_blank" class="timeline-link">Council reaches agreement on the nature restoration law</a>
                            </div>
                        </div>
                        
                        <!-- 2022 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>20 December 2022</h4>
                                <p>Restoring nature: ministers discuss 2030 targets and held policy debate on nature restoration regulation.</p>
                                <a href="https://www.consilium.europa.eu/en/meetings/env/2022/12/20/" target="_blank" class="timeline-link">Environment Council, 20 December 2022</a>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>7-19 December 2022</h4>
                                <p>New global framework for biodiversity adopted at UN summit COP15 with historic Kunming-Montreal global biodiversity framework.</p>
                                <a href="https://environment.ec.europa.eu/topics/nature-and-biodiversity/global-biodiversity_en" target="_blank" class="timeline-link">EU at COP15 (European Commission)</a>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>29 November 2022</h4>
                                <p>EU and ACP countries call for ambitious agreement to protect biodiversity at COP15 meeting.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2022/11/29/cop15-the-european-union-and-the-organisation-of-african-caribbean-and-pacific-states-call-for-an-ambitious-global-agreement/" target="_blank" class="timeline-link">COP15: EU and OACPS call for ambitious global agreement</a>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>24 October 2022</h4>
                                <p>Council agrees on EU position for UN biodiversity summit, calling for ambitious global biodiversity framework.</p>
                                <a href="https://www.consilium.europa.eu/en/meetings/env/2022/10/24/" target="_blank" class="timeline-link">Environment Council, 24 October 2022</a>
                            </div>
                        </div>
                        
                        <!-- 2021 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>16 March 2021</h4>
                                <p>LIFE programme – Council adopts its position at first reading for 2021-2027, EU's flagship programme for nature and biodiversity protection.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2021/03/16/life-programme-council-adopts-its-position-at-first-reading/" target="_blank" class="timeline-link">LIFE programme – Council adopts its position at first reading</a>
                            </div>
                        </div>
                        
                        <!-- 2020 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>17 December 2020</h4>
                                <p>LIFE programme: Council presidency reaches provisional political agreement with Parliament on extension beyond 2020.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2020/12/17/life-programme-council-presidency-reaches-provisional-political-agreement-with-parliament/" target="_blank" class="timeline-link">LIFE programme – Council Presidency reaches provisional agreement</a>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>23 October 2020</h4>
                                <p>Council adopts conclusions on the EU biodiversity strategy for 2030, endorsing objectives and recognising need to step up efforts.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2020/10/23/council-adopts-conclusions-on-the-eu-biodiversity-strategy-for-2030/" target="_blank" class="timeline-link">Council adopts conclusions on EU biodiversity strategy for 2030</a>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>21 September 2020</h4>
                                <p>UN Biodiversity Summit: Council sends united signal to step up global ambition for biodiversity, endorsing Leaders' Pledge for Nature.</p>
                                <div class="multiple-links">
                                    <a href="https://www.consilium.europa.eu/en/press/press-releases/2020/09/21/un-biodiversity-summit-council-sends-a-united-signal-to-step-up-global-ambition-for-biodiversity/" target="_blank" class="timeline-link">UN Biodiversity Summit: Council sends united signal</a>
                                    <a href="https://www.un.org/pga/75/united-nations-summit-on-biodiversity/" target="_blank" class="timeline-link">UN Summit on Biodiversity</a>
                                </div>
                            </div>
                        </div>
                        
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>8 June 2020</h4>
                                <p>EU agriculture ministers welcome Commission's biodiversity strategy as part of European Green Deal.</p>
                                <div class="multiple-links">
                                    <a href="https://www.consilium.europa.eu/en/meetings/agrifish/2020/06/08/" target="_blank" class="timeline-link">Video conference of agriculture ministers</a>
                                    <a href="https://www.consilium.europa.eu/en/policies/european-green-deal/" target="_blank" class="timeline-link">European Green Deal</a>
                                    <a href="https://www.consilium.europa.eu/en/policies/cap-funding-rules-2023-2027/" target="_blank" class="timeline-link">CAP funding rules 2023-2027</a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 2019 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>19 December 2019</h4>
                                <p>Council adopts conclusions on biodiversity, calling for ambitious 2030 EU biodiversity strategy as central element of European Green Deal.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2019/12/19/biodiversity-council-adopts-conclusions/" target="_blank" class="timeline-link">Biodiversity - Council adopts conclusions</a>
                            </div>
                        </div>
                        
                        <!-- 2018 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>9 October 2018</h4>
                                <p>Biodiversity: Council adopts conclusions expressing deep concern about natural resource base and calling for ambitious strategic plan beyond 2020.</p>
                                <a href="https://www.consilium.europa.eu/en/press/press-releases/2018/10/09/biodiversity-council-adopts-conclusions/" target="_blank" class="timeline-link">Biodiversity: Council adopts conclusions</a>
                            </div>
                        </div>
                        
                        <!-- 2016 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>17 October 2016</h4>
                                <p>Conclusions ahead of meeting of parties to Convention on Biological Diversity, stressing need to act at international level to halt biodiversity loss.</p>
                                <a href="https://www.consilium.europa.eu/en/meetings/env/2016/10/17/" target="_blank" class="timeline-link">Environment Council, 17 October 2016</a>
                            </div>
                        </div>
                        
                        <!-- 2015 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>16 December 2015</h4>
                                <p>Conclusions on mid-term review of EU biodiversity strategy, pointing out areas where further work needed to reach targets.</p>
                                <a href="https://www.consilium.europa.eu/en/meetings/env/2015/12/16/" target="_blank" class="timeline-link">Environment Council, 16 December 2015</a>
                            </div>
                        </div>
                        
                        <!-- 2010 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>15 March 2010</h4>
                                <p>EU sets headline target on halting the loss of biodiversity by 2020 and vision for better protection by 2050.</p>
                                <a href="https://register.consilium.europa.eu/doc/srv?l=EN&f=ST%207536%202010%20INIT" target="_blank" class="timeline-link">Council conclusions on EU and global vision for biodiversity</a>
                            </div>
                        </div>
                        
                        <!-- 2009 -->
                        <div class="timeline-item">
                            <div class="timeline-content">
                                <h4>22 December 2009</h4>
                                <p>Council adopts conclusions on international biodiversity beyond 2010, highlighting importance of re-energising political momentum.</p>
                                <a href="https://data.consilium.europa.eu/doc/document/ST%2017785%202009%20INIT/EN/pdf" target="_blank" class="timeline-link">Council conclusions on biodiversity beyond 2010</a>
                            </div>
                        </div>
                    </div>
                    
                    <button class="collapse-timeline-btn">
                        <span>Collapse Timeline</span>
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
                
                <div class="timeline-source">
                    <p>Source: <a href="https://www.consilium.europa.eu/en/policies/biodiversity/timeline-biodiversity/" target="_blank">European Council - Timeline of biodiversity policy</a></p>
                </div>
            </div>
            
            <div class="case-study">
                <div class="case-study-content">
                    <div class="case-study-image">
                        <img src="amazon-case-study.jpg" alt="Amazon Rainforest">
                    </div>
                    <div class="case-study-text">
                        <h3>Case Study: The Amazon Rainforest</h3>
                        <p>There are few places on the planet where the threat of biodiversity loss is more evident than the Amazon, which is being destroyed by record levels of deforestation despite being home to one-third of the planet's species — the greatest concentration of biodiversity on Earth.</p>
                        
                        <p>Because habitat destruction brings humans and wildlife into closer contact, it dramatically increases our risk of exposure to "zoonotic spillover," which occurs when pathogens jump from animals to humans. In fact, more than 75% of emerging infectious diseases in humans are caused by pathogens that originally circulated in animals.</p>
                        
                        <p>Dr. Alessandra Nava, a veterinary scientist based in the Brazilian city of Manaus, has made the rainforest her laboratory. She has dedicated her career to collecting samples from small mammals for the Fiocruz Amazônia Biobank, part of a growing effort to track the spread of zoonotic pathogens, and perhaps ultimately help predict or even prevent another pandemic.</p>
                        
                        <p>Her work exemplifies a holistic approach, fittingly dubbed "One Health," that recognizes the indivisible link between animal, human, and environmental well-being.</p>
                        
                        <blockquote>
                            "When we keep the forest intact, it serves as a buffer zone."
                            <cite>— Dr. Alessandra Nava, Veterinary Scientist</cite>
                        </blockquote>
                    </div>
                </div>
            </div>
            
            <div class="solutions-preview">
                <h3>Solutions to Protect Biodiversity</h3>
                <p>Despite these challenges, solutions exist to restore and preserve our planet's ecological well-being:</p>
                <ul>
                    <li><strong>Protecting and restoring natural habitats:</strong> Conservation is key to maintaining the delicate balance of our ecosystems.</li>
                    <li><strong>Prioritizing island nations:</strong> Islands host 20% of Earth's species despite covering less than 4% of its surface.</li>
                    <li><strong>Supporting sustainable practices:</strong> From agriculture to fishing to land use, we need approaches that work with nature.</li>
                    <li><strong>Respecting Indigenous knowledge:</strong> Indigenous communities have long served as the planet's most effective environmental stewards.</li>
                </ul>
                
                <div class="cta-mini">
                    <p>"Without nature, we have nothing. Without nature, we are nothing." — UN Secretary-General António Guterres</p>
                    <a href="#sts" class="btn">Learn How STS Can Help</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Impact Section -->
    <section class="impact" id="impact">
        <div class="container">
            <div class="section-title">
                <h2>Impact of Biodiversity Loss</h2>
                <p>How biodiversity decline affects human health, economies, and societies</p>
            </div>
            <div class="impact-grid">
                <div class="impact-card">
                    <div class="impact-image">
                        <img src="health-impact.jpg" alt="Health Impact">
                    </div>
                    <div class="impact-text">
                        <h3>Health Impacts</h3>
                        <p>Human health relies on ecosystem resources, products and services. Biodiversity loss can have significant direct health impacts if ecosystem services no longer meet societal needs.</p>
                    </div>
                </div>
                <div class="impact-card">
                    <div class="impact-image">
                        <img src="economic-impact.jpg" alt="Economic Impact">
                    </div>
                    <div class="impact-text">
                        <h3>Economic Consequences</h3>
                        <p>The global economic impact of biodiversity loss amounts to US$ 10 trillion annually, including healthcare costs from increased disease transmission and agricultural losses.</p>
                    </div>
                </div>
                <div class="impact-card">
                    <div class="impact-image">
                        <img src="social-impact.jpg" alt="Social Impact">
                    </div>
                    <div class="impact-text">
                        <h3>Social Disruption</h3>
                        <p>Changes in ecosystems can affect livelihoods, income, local migration and may even cause or increase political conflict.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Health Issues Section -->
    <section class="health-issues" id="health">
        <div class="container">
            <div class="section-title">
                <h2>Global Health Issues & Biodiversity</h2>
                <p>How biodiversity loss contributes to major health challenges</p>
            </div>
            <div class="health-grid">
                <div class="health-card">
                    <h3><i class="fas fa-lungs-virus"></i> Long COVID</h3>
                    <p>The health impact of long COVID often disrupts a person's ability to engage with school, work, or relationships for months at a time. People with long COVID need diagnostic and proper rehabilitation support.</p>
                </div>
                <div class="health-card">
                    <h3><i class="fas fa-heartbeat"></i> Cardiovascular Disease</h3>
                    <p>Cardiovascular diseases are the leading causes of death globally, accounting for 28% of total deaths in 2021. Most can be prevented by addressing modifiable risk factors such as high blood pressure, obesity, and air pollution.</p>
                </div>
                <div class="health-card">
                    <h3><i class="fas fa-lungs"></i> Lower Respiratory Infections</h3>
                    <p>Lower respiratory infections, such as pneumonia and bronchitis, affect the lungs and breathing passages. These infections can be severe, especially for vulnerable populations.</p>
                </div>
                <div class="health-card">
                    <h3><i class="fas fa-virus"></i> HIV/AIDS</h3>
                    <p>HIV, the virus that causes AIDS, has become one of the world's most serious health challenges since the first cases were reported in 1981. Approximately 86 million people have become infected with HIV since the start of the epidemic.</p>
                </div>
                <div class="health-card">
                    <h3><i class="fas fa-mosquito"></i> Infectious Diseases</h3>
                    <p>Over 75% of emerging infectious diseases are zoonotic and often arise in areas where ecosystems have been disrupted by deforestation or land-use change.</p>
                </div>
                <div class="health-card">
                    <h3><i class="fas fa-thermometer-full"></i> Climate-Related Health Risks</h3>
                    <p>The destruction of ecosystems accelerates climate change, leading to increased heatwaves, floods, and other climate-related health risks, including heat-stress and malnutrition.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Technology Section -->
    <section class="technology" id="technology">
        <div class="container">
            <div class="section-title">
                <h2>Technological Advancements in Health Care</h2>
                <p>How technology is revolutionizing healthcare and biodiversity conservation</p>
            </div>
            <div class="tech-grid">
                <div class="tech-card">
                    <div class="tech-image">
                        <img src="wearable-tech.jpg" alt="Wearable Technology">
                    </div>
                    <div class="tech-text">
                        <h3>Wearable Health Technology</h3>
                        <p>Wearables provide continuous monitoring, early detection, and personalized treatment, helping reduce healthcare costs while improving outcomes.</p>
                    </div>
                </div>
                <div class="tech-card">
                    <div class="tech-image">
                        <img src="telemedicine.jpg" alt="Telemedicine">
                    </div>
                    <div class="tech-text">
                        <h3>Telemedicine</h3>
                        <p>Telemedicine enables virtual communication between patients and physicians, eliminating the need for patients to travel to clinics while maintaining quality care.</p>
                    </div>
                </div>
                <div class="tech-card">
                    <div class="tech-image">
                        <img src="robotic-surgery.jpg" alt="Robotic Surgery">
                    </div>
                    <div class="tech-text">
                        <h3>Robotic Surgical Systems</h3>
                        <p>Robotic surgery helps doctors perform complex operations with more accuracy, flexibility, and control than traditional methods.</p>
                    </div>
                </div>
                <div class="tech-card">
                    <div class="tech-image">
                        <img src="mrna-tech.jpg" alt="mRNA Technology">
                    </div>
                    <div class="tech-text">
                        <h3>mRNA Technology</h3>
                        <p>mRNA technology holds promise for treating various diseases, including cancer and genetic disorders, building on its success with COVID-19 vaccines.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- STS Connection Section -->
    <section class="sts-connection" id="sts">
        <div class="container">
            <div class="section-title">
                <h2>The STS Connection</h2>
                <p>How Science, Technology, and Society intersect in addressing biodiversity threats</p>
            </div>
            <div class="sts-content">
                <div class="sts-text">
                    <h3>An Integrated Approach to Biodiversity Conservation</h3>
                    <p>In today's interconnected world, the dynamic relationship between science, technology, and health is at the forefront of societal progress. Advancements in science and technology have revolutionized healthcare, leading to breakthroughs in treatment, diagnosis, and prevention of diseases.</p>
                    <p>The relationship between biodiversity and human society is complex and bidirectional. While human activities drive biodiversity loss, the resulting ecological degradation threatens human health, food security, and social stability.</p>
                    <p>Science provides the evidence base for understanding these threats, technology offers tools for monitoring and mitigation, while society determines the values, policies, and behaviors that shape our relationship with nature.</p>
                    <p>It's important that we work together across different areas, like science and ethics, and make fair rules so that everyone can benefit from these new ideas in science, technology, and health.</p>
                </div>
                <div class="sts-image">
                    <img src="sts-connection.jpg" alt="Science, Technology, Society Connection">
                </div>
            </div>
            
            <!-- Visual Aid: STS Interconnection Diagram -->
            <div class="sts-diagram">
                <h3 class="diagram-title">The STS Interconnection</h3>
                <div class="diagram-container">
                    <div class="diagram-element">
                        <div class="element-icon">
                            <i class="fas fa-flask"></i>
                        </div>
                        <h4>Science</h4>
                        <p>Provides evidence-based understanding of biodiversity threats and impacts</p>
                    </div>
                    <div class="diagram-element">
                        <div class="element-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <h4>Technology</h4>
                        <p>Offers tools for monitoring, mitigation, and conservation solutions</p>
                    </div>
                    <div class="diagram-element">
                        <div class="element-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h4>Society</h4>
                        <p>Determines values, policies, and behaviors that shape our relationship with nature</p>
                    </div>
                </div>
                <div class="diagram-connections">
                    <div class="connection-line"></div>
                    <div class="connection-line"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Video Resources Section -->
    <section class="video-resources" id="videos">
        <div class="container">
            <div class="section-title">
                <h2>Video Resources</h2>
                <p>Watch these videos to learn more about biodiversity and its importance</p>
            </div>
            
            <div class="videos-grid">
                <div class="video-card">
                    <div class="video-thumbnail">
                        <img src="https://img.youtube.com/vi/kHhspf5IfdE/maxresdefault.jpg" alt="Why is biodiversity so important?">
                        <div class="video-play-btn" data-video-id="kHhspf5IfdE">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-content">
                        <h3>Why is biodiversity so important?</h3>
                        <p>This video explains the importance of biodiversity and how it affects our daily lives, from the air we breathe to the food we eat.</p>
                        <a href="https://youtu.be/kHhspf5IfdE" target="_blank" class="video-link">
                            <i class="fas fa-external-link-alt"></i> Watch on YouTube
                        </a>
                    </div>
                </div>
                
                <div class="video-card">
                    <div class="video-thumbnail">
                        <img src="https://img.youtube.com/vi/QWLZM38t0YU/maxresdefault.jpg" alt="What is Biodiversity?">
                        <div class="video-play-btn" data-video-id="QWLZM38t0YU">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-content">
                        <h3>What is Biodiversity?</h3>
                        <p>This video provides a comprehensive overview of biodiversity, including its different levels and why it matters for ecosystem health.</p>
                        <a href="https://youtu.be/QWLZM38t0YU" target="_blank" class="video-link">
                            <i class="fas fa-external-link-alt"></i> Watch on YouTube
                        </a>
                    </div>
                </div>
                
                <div class="video-card">
                    <div class="video-thumbnail">
                        <img src="https://img.youtube.com/vi/xvnadbj4gwk/maxresdefault.jpg" alt="Human Impacts on Biodiversity">
                        <div class="video-play-btn" data-video-id="xvnadbj4gwk">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-content">
                        <h3>Human Impacts on Biodiversity</h3>
                        <p>This video explores how human activities are affecting biodiversity worldwide and what we can do to reduce our impact.</p>
                        <a href="https://youtu.be/xvnadbj4gwk" target="_blank" class="video-link">
                            <i class="fas fa-external-link-alt"></i> Watch on YouTube
                        </a>
                    </div>
                </div>
                
                <div class="video-card">
                    <div class="video-thumbnail">
                        <img src="https://img.youtube.com/vi/1cvMX82iwRM/maxresdefault.jpg" alt="Biodiversity and Ecosystem Services">
                        <div class="video-play-btn" data-video-id="1cvMX82iwRM">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="video-content">
                        <h3>Biodiversity and Ecosystem Services</h3>
                        <p>This video explains the concept of ecosystem services and how biodiversity provides essential benefits to humanity.</p>
                        <a href="https://youtu.be/1cvMX82iwRM" target="_blank" class="video-link">
                            <i class="fas fa-external-link-alt"></i> Watch on YouTube
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta">
        <div class="container">
            <h2>Join the Movement for Biodiversity Conservation</h2>
            <p>Explore how science, technology, and societal action can work together to address biodiversity threats and create a healthier relationship between humans and nature.</p>
            <a href="#key-facts" class="btn">Learn More & Get Involved</a>
        </div>
    </section>

    <!-- Interactive Quiz Section -->
    <section class="quiz-section" id="quiz">
        <div class="container">
            <div class="section-title">
                <h2>Test Your Knowledge</h2>
                <p>Take our interactive quiz to see how much you know about biodiversity and its importance</p>
            </div>
            
            <div class="quiz-container">
                <div class="quiz-intro" id="quizIntro">
                    <div class="quiz-image">
                        <img src="quiz-image.jpg" alt="Biodiversity Quiz">
                    </div>
                    <div class="quiz-info">
                        <h3>Biodiversity Quiz Challenge</h3>
                        <p>This quiz will test your knowledge about biodiversity threats, conservation efforts, and the relationship between ecosystems and human health.</p>
                        <ul>
                            <li><i class="fas fa-check-circle"></i> 20 multiple-choice questions</li>
                            <li><i class="fas fa-check-circle"></i> Instant feedback with explanations</li>
                            <li><i class="fas fa-check-circle"></i> Learn interesting facts about biodiversity</li>
                            <li><i class="fas fa-check-circle"></i> Get personalized results based on your score</li>
                            <li><i class="fas fa-random"></i> Questions and choices shuffled each attempt</li>
                        </ul>
                        <button class="btn start-quiz-btn" id="startQuiz">Start Quiz</button>
                    </div>
                </div>
                
                <div class="quiz-content" id="quizContent" style="display: none;">
                    <div class="quiz-header">
                        <div class="quiz-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span class="progress-text" id="progressText">Question 1 of 20</span>
                        </div>
                        <div class="quiz-score">
                            Score: <span id="scoreValue">0</span>
                        </div>
                    </div>
                    
                    <div class="question-container">
                        <h3 class="question-text" id="questionText"></h3>
                        <div class="options-container" id="optionsContainer"></div>
                    </div>
                    
                    <div class="quiz-feedback" id="quizFeedback" style="display: none;">
                        <div class="feedback-content">
                            <h4 id="feedbackTitle"></h4>
                            <p id="feedbackText"></p>
                            <button class="btn next-question-btn" id="nextQuestion">Next Question</button>
                        </div>
                    </div>
                </div>
                
                <!-- Enhanced Quiz Results with Score-Based Feedback -->
                <div class="quiz-results" id="quizResults" style="display: none;">
                    <div class="results-content">
                        <h3>Quiz Complete!</h3>
                        <div class="score-circle">
                            <div class="circle-background"></div>
                            <div class="circle-content">
                                <span class="score-percentage" id="scorePercentage">0%</span>
                                <span class="score-label">Your Score</span>
                            </div>
                        </div>
                        
                        <!-- Score-Based Visual Feedback -->
                        <div class="score-feedback" id="scoreFeedback">
                            <!-- Content will be dynamically generated based on score -->
                        </div>
                        
                        <p id="resultsMessage"></p>
                        <div class="results-actions">
                            <button class="btn retry-quiz-btn" id="retryQuiz">Try Again</button>
                            <button class="btn save-results-btn" id="saveResultsBtn">
                                <i class="fas fa-download"></i> Save Results
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Editorial Staff Section -->
    <section class="editorial-staff" id="editorial-staff">
        <div class="container">
            <div class="section-title">
                <h2>Web Development Team</h2>
                <p>Meet the dedicated team behind this educational resource</p>
            </div>
            <div class="staff-grid">
                <div class="staff-card">
                    <div class="staff-info">
                        <h3>Espina, Elpidio S.</h3>
                        <p>Assistant Web Developer</p>
                    </div>
                </div>
                <div class="staff-card">
                    <div class="staff-info">
                        <h3>Gatpandan, Kate Lourdes F.</h3>
                        <p>Web Developer / Researcher</p>
                    </div>
                </div>
                <div class="staff-card">
                    <div class="staff-info">
                        <h3>Liwanag, Allanis Murray S.</h3>
                        <p>Visual Designer</p>
                    </div>
                </div>
                <div class="staff-card">
                    <div class="staff-info">
                        <h3>Onari, Ryza Joy M.</h3>
                        <p>Web Designer</p>
                    </div>
                </div>
                <div class="staff-card">
                    <div class="staff-info">
                        <h3>Palomo, Janelle Victoria D.</h3>
                        <p>Leader</p>
                    </div>
                </div>
                <div class="staff-card">
                    <div class="staff-info">
                        <h3>Roxas, Heaven Kay G.</h3>
                        <p>Visual Designer</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>About This Project</h3>
                    <p>An educational resource exploring the connections between biodiversity threats, human society, science, and technology.</p>
                </div>
                <div class="footer-column">
                    <h3>Key Sections</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#key-facts">Key Facts</a></li>
                        <li><a href="#overview">Overview</a></li>
                        <li><a href="#threats">Threats</a></li>
                        <li><a href="#impact">Impact</a></li>
                        <li><a href="#health">Health Issues</a></li>
                        <li><a href="#technology">Technology</a></li>
                        <li><a href="#sts">STS Connection</a></li>
                        <li><a href="#videos">Video Resources</a></li>
                        <li><a href="#quiz">Interactive Quiz</a></li>
                        <li><a href="#editorial-staff">Our Team</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="#">Scientific Research</a></li>
                        <li><a href="#">Technology Solutions</a></li>
                        <li><a href="#">Policy Frameworks</a></li>
                        <li><a href="#">Case Studies</a></li>
                        <li><a href="#">Educational Materials</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
            
            <!-- References Section in Footer -->
            <div class="references-footer">
                <h4>References</h4>
                <ul>
                    <li>
                        <a href="https://share.google/umU3x2ISqWfks5hzF" target="_blank">https://share.google/umU3x2ISqWfks5hzF</a>
                        <div class="reference-description">Additional resource on biodiversity and health connections</div>
                    </li>
                    <li>
                        <a href="https://share.google/RIRTypaQrN8idwqIJ" target="_blank">https://share.google/RIRTypaQrN8idwqIJ</a>
                        <div class="reference-description">Research materials on biodiversity threats and solutions</div>
                    </li>
                    <li>
                        <a href="https://www.consilium.europa.eu/en/policies/biodiversity/timeline-biodiversity/" target="_blank">https://www.consilium.europa.eu/en/policies/biodiversity/timeline-biodiversity/</a>
                        <div class="reference-description">European Council - Timeline of biodiversity policy</div>
                    </li>
                </ul>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 Biodiversity Threats & Healthy Society | Science, Technology & Society</p>
            </div>
        </div>
    </footer>

    <script>
        // Check if browser supports Web Speech API
        const speechSynthesis = window.speechSynthesis;
        const isSpeechSupported = speechSynthesis && speechSynthesis.getVoices;
        
        // AI Explanation Feature
        const aiExplanationBtn = document.getElementById('aiExplanationBtn');
        const aiExplanationModal = document.getElementById('aiExplanationModal');
        const closeAiModal = document.getElementById('closeAiModal');
        const sectionSelect = document.getElementById('sectionSelect');
        const playVoiceBtn = document.getElementById('playVoiceBtn');
        const pauseVoiceBtn = document.getElementById('pauseVoiceBtn');
        const stopVoiceBtn = document.getElementById('stopVoiceBtn');
        const aiVoiceText = document.getElementById('aiVoiceText');
        const voiceStatus = document.getElementById('voiceStatus');

        // Calculator Info Modal
        const calculatorInfoModal = document.getElementById('calculatorInfoModal');
        const calculatorInfoBtn = document.getElementById('calculatorInfoBtn');
        const closeCalculatorInfo = document.getElementById('closeCalculatorInfo');

        // Save Results Modal
        const saveResultsModal = document.getElementById('saveResultsModal');
        const closeSaveModal = document.getElementById('closeSaveModal');
        const saveResultsBtn = document.getElementById('saveResults');
        const saveableResults = document.getElementById('saveableResults');
        const saveResultsBtnInQuiz = document.getElementById('saveResultsBtn');

        // Video Modal
        const videoModal = document.getElementById('videoModal');
        const closeVideoModal = document.getElementById('closeVideoModal');
        const videoFrame = document.getElementById('videoFrame');
        const videoModalTitle = document.getElementById('videoModalTitle');

        // Back to Top Button
        const backToTopBtn = document.getElementById('backToTop');

        // Web Speech API
        let currentUtterance = null;
        let isPlaying = false;

        // Open AI Explanation Modal
        aiExplanationBtn.addEventListener('click', () => {
            aiExplanationModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        // Close AI Explanation Modal
        closeAiModal.addEventListener('click', () => {
            aiExplanationModal.classList.remove('active');
            document.body.style.overflow = 'auto';
            stopSpeech();
        });

        // Close modal when clicking outside
        aiExplanationModal.addEventListener('click', (e) => {
            if (e.target === aiExplanationModal) {
                aiExplanationModal.classList.remove('active');
                document.body.style.overflow = 'auto';
                stopSpeech();
            }
        });

        // Open Calculator Info Modal
        calculatorInfoBtn.addEventListener('click', () => {
            calculatorInfoModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        });

        // Close Calculator Info Modal
        closeCalculatorInfo.addEventListener('click', () => {
            calculatorInfoModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside
        calculatorInfoModal.addEventListener('click', (e) => {
            if (e.target === calculatorInfoModal) {
                calculatorInfoModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Open Save Results Modal
        function openSaveResultsModal() {
            saveResultsModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        // Close Save Results Modal
        closeSaveModal.addEventListener('click', () => {
            saveResultsModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });

        // Close modal when clicking outside
        saveResultsModal.addEventListener('click', (e) => {
            if (e.target === saveResultsModal) {
                saveResultsModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Save Results Function
        saveResultsBtn.addEventListener('click', () => {
            // Create a canvas element
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // Get the saveable results element
            const saveableElement = document.getElementById('saveableResults');
            
            // Set canvas dimensions to match the saveable element
            canvas.width = saveableElement.offsetWidth;
            canvas.height = saveableElement.offsetHeight;
            
            // Use html2canvas to capture the element as an image
            if (typeof html2canvas !== 'undefined') {
                html2canvas(saveableElement).then(canvas => {
                    // Convert canvas to data URL
                    const imageData = canvas.toDataURL('image/png');
                    
                    // Create a temporary link to download the image
                    const link = document.createElement('a');
                    link.download = 'biodiversity-quiz-results.png';
                    link.href = imageData;
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                });
            } else {
                alert('Save functionality requires the html2canvas library. Please include it in your project.');
            }
        });

        // Video Modal Functionality
        document.querySelectorAll('.video-play-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const videoId = btn.getAttribute('data-video-id');
                const videoCard = btn.closest('.video-card');
                const videoTitle = videoCard.querySelector('h3').textContent;
                
                videoModalTitle.textContent = videoTitle;
                videoFrame.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
                videoModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });

        // Close Video Modal
        closeVideoModal.addEventListener('click', () => {
            videoModal.classList.remove('active');
            document.body.style.overflow = 'auto';
            videoFrame.src = '';
        });

        // Close modal when clicking outside
        videoModal.addEventListener('click', (e) => {
            if (e.target === videoModal) {
                videoModal.classList.remove('active');
                document.body.style.overflow = 'auto';
                videoFrame.src = '';
            }
        });

        // Update voice explanation when section changes
        sectionSelect.addEventListener('change', () => {
            updateVoiceExplanation();
            stopSpeech();
        });

        // Voice explanation content
        const voiceExplanations = {
            'home': `
                <p>Welcome to our website on Biodiversity Threats and Healthy Society. This platform explores the critical connections between biodiversity loss and human health, and how science and technology can help address these challenges.</p>
                <p>Biodiversity loss represents one of the most critical challenges of our time, with profound implications for human health, economic stability, and social well-being. Through this website, we examine how the decline in species and ecosystems affects our health, food security, and quality of life.</p>
                <p>We also explore the role of science in understanding these threats, technology in monitoring and mitigating them, and society in shaping policies and behaviors that can protect our natural world.</p>
            `,
            'key-facts': `
                <p>Let me share some key facts about biodiversity that highlight its importance for human health and society.</p>
                <p>Did you know that over 75% of global food crops rely on pollinators? These tiny creatures contribute between 235 and 577 billion US dollars annually to global agricultural output.</p>
                <p>In medicine, over 50% of modern medicines are derived from natural sources, including antibiotics from fungi and painkillers from plant compounds.</p>
                <p>Forests, which store 80% of terrestrial biodiversity, absorb approximately 2.6 billion tonnes of carbon dioxide annually, playing a crucial role in climate regulation.</p>
                <p>Invasive alien species contribute to 60% of species extinctions and cause 423 billion US dollars in global economic damage each year.</p>
                <p>Healthy ecosystems provide 75% of global freshwater resources, yet since 1970, we've lost 35% of our wetlands.</p>
                <p>Finally, Indigenous Peoples manage over 38 million square kilometers of land globally, including nearly 40% of all protected areas, demonstrating their crucial role as environmental stewards.</p>
            `,
            'overview': `
                <p>Biodiversity refers to the variety of life on Earth at all levels, from genes to ecosystems. It encompasses the evolutionary, ecological, and cultural processes that sustain life.</p>
                <p>Biodiversity includes three main levels: genetic diversity, which is the variation of genes within a species; species diversity, which is the variety of species within a habitat or region; and ecosystem diversity, which refers to the variety of ecosystems in a given place.</p>
                <p>Healthy communities depend on well-functioning ecosystems that provide essential services like clean air, fresh water, medicines, and food security. These ecosystems also help regulate diseases and stabilize our climate.</p>
                <p>Unfortunately, biodiversity loss is accelerating at an unprecedented rate, with approximately 1 million species at risk of extinction. This threatens the vital services that ecosystems provide and increases public health risks globally.</p>
            `,
            'threats': `
                <p>Biodiversity faces numerous threats, primarily driven by human activities. Let me explain the major challenges.</p>
                <p>Habitat destruction is a primary threat, with one-third of the planet's land now degraded. Forests, wetlands, and other critical ecosystems are being cleared at alarming rates, making it harder to feed our growing global population.</p>
                <p>Unsustainable practices like oil drilling, fracking, mining, and factory farming are destroying ecosystems while displacing, contaminating, and killing countless species.</p>
                <p>Overexploitation through overfishing, illegal wildlife trade, and unsustainable harvesting is pushing many species to the brink of extinction.</p>
                <p>Climate change, with rising temperatures, ocean acidification, and extreme weather events, is disrupting ecosystems and threatening species that cannot adapt quickly enough.</p>
                <p>Zoonotic spillover occurs when habitat destruction brings humans and wildlife into closer contact, dramatically increasing our risk of exposure to pathogens that jump from animals to humans.</p>
                <p>Pollution from plastics, chemicals, and air contaminants is poisoning our land, water, and air, harming both wildlife and human health.</p>
                <p>According to UN Secretary-General António Guterres, "Humanity has become a weapon of mass extinction. And ultimately, we are committing suicide by proxy."</p>
            `,
            'impact': `
                <p>The loss of biodiversity has profound impacts on human health, economies, and societies.</p>
                <p>Human health relies directly on ecosystem resources, products, and services. When biodiversity declines, we lose potential sources of new medicines, and ecosystem services may no longer meet societal needs, leading to significant health impacts.</p>
                <p>The economic consequences are staggering. The global economic impact of biodiversity loss amounts to 10 trillion US dollars annually. This includes healthcare costs from increased disease transmission and agricultural losses from reduced pollination and soil fertility.</p>
                <p>Socially, changes in ecosystems can affect livelihoods, income, and may even cause or increase political conflict as resources become scarce. Communities that depend directly on natural resources for their survival are particularly vulnerable.</p>
            `,
            'health': `
                <p>Biodiversity loss contributes to several major global health issues.</p>
                <p>Long COVID often disrupts a person's ability to engage with school, work, or relationships for months at a time. People with long COVID need diagnostic and proper rehabilitation support.</p>
                <p>Cardiovascular diseases are the leading causes of death globally, accounting for 28% of total deaths in 2021. Most can be prevented by addressing modifiable risk factors such as high blood pressure, obesity, and air pollution - all of which are influenced by environmental factors.</p>
                <p>Lower respiratory infections, such as pneumonia and bronchitis, affect the lungs and breathing passages. Air pollution and environmental degradation can exacerbate these conditions.</p>
                <p>HIV/AIDS has become one of the world's most serious health challenges since the first cases were reported in 1981. Approximately 86 million people have become infected with HIV since the start of the epidemic.</p>
                <p>Over 75% of emerging infectious diseases are zoonotic and often arise in areas where ecosystems have been disrupted by deforestation or land-use change.</p>
                <p>The destruction of ecosystems accelerates climate change, leading to increased heatwaves, floods, and other climate-related health risks, including heat-stress and malnutrition.</p>
            `,
            'technology': `
                <p>Technology is revolutionizing healthcare and biodiversity conservation in remarkable ways.</p>
                <p>Wearable health technology provides continuous monitoring, early detection, and personalized treatment, helping reduce healthcare costs while improving outcomes. These devices can track vital signs, physical activity, and even environmental exposures.</p>
                <p>Telemedicine enables virtual communication between patients and physicians, eliminating the need for patients to travel to clinics while maintaining quality care. This is particularly valuable in remote areas with limited healthcare access.</p>
                <p>Robotic surgical systems help doctors perform complex operations with more accuracy, flexibility, and control than traditional methods. These systems can reduce recovery times and improve surgical outcomes.</p>
                <p>mRNA technology holds promise for treating various diseases, including cancer and genetic disorders, building on its success with COVID-19 vaccines. This technology represents a breakthrough in how we approach disease prevention and treatment.</p>
                <p>In biodiversity conservation, technology like satellite monitoring, DNA barcoding, and AI-powered camera traps are helping scientists track species populations, monitor ecosystem health, and combat illegal wildlife trade.</p>
            `,
            'sts': `
                <p>The STS connection refers to the intersection of Science, Technology, and Society in addressing biodiversity threats.</p>
                <p>Science provides the evidence base for understanding biodiversity threats and their impacts. Through research and data collection, scientists help us comprehend the complex relationships between ecosystems, species, and human well-being.</p>
                <p>Technology offers tools for monitoring, mitigation, and conservation solutions. From satellite imagery to genetic sequencing, technological advancements provide new ways to study and protect biodiversity.</p>
                <p>Society determines the values, policies, and behaviors that shape our relationship with nature. Cultural norms, economic systems, and political decisions all influence how we interact with and protect our natural world.</p>
                <p>The relationship between biodiversity and human society is complex and bidirectional. While human activities drive biodiversity loss, the resulting ecological degradation threatens human health, food security, and social stability.</p>
                <p>An integrated approach that considers scientific evidence, technological possibilities, and societal values is essential for effective biodiversity conservation and creating a sustainable future.</p>
            `,
            'videos': `
                <p>Our video resources section provides engaging visual content to help you understand biodiversity concepts more deeply.</p>
                <p>We have curated several educational videos that cover different aspects of biodiversity, including why it's important, what it is, how human activities impact it, and the ecosystem services it provides.</p>
                <p>These videos are excellent resources for visual learners and those who prefer multimedia content over text. They can help reinforce the concepts discussed throughout this website and provide additional perspectives on biodiversity issues.</p>
                <p>Each video is accompanied by a brief description to help you choose which ones to watch based on your interests and learning needs.</p>
            `
        };

        // Update voice explanation based on selected section
        function updateVoiceExplanation() {
            const selectedSection = sectionSelect.value;
            aiVoiceText.innerHTML = voiceExplanations[selectedSection] || '<p>Explanation not available for this section.</p>';
        }

        // Initialize voice explanation
        updateVoiceExplanation();

        // Voice explanation controls
        playVoiceBtn.addEventListener('click', () => {
            if (!isPlaying) {
                playSpeech();
            }
        });
        
        pauseVoiceBtn.addEventListener('click', () => {
            if (isPlaying) {
                pauseSpeech();
            }
        });
        
        stopVoiceBtn.addEventListener('click', () => {
            stopSpeech();
        });

        // Speech functions
        function playSpeech() {
            // Check if speech synthesis is supported
            if (!isSpeechSupported) {
                showSpeechNotSupportedWarning();
                return;
            }
            
            if (speechSynthesis.speaking && !speechSynthesis.paused) {
                return; // Already speaking
            }
            
            const selectedSection = sectionSelect.value;
            const text = voiceExplanations[selectedSection] || 'No explanation available for this section.';
            
            // Clean HTML tags from text
            const cleanText = text.replace(/<[^>]*>/g, '');
            
            if (speechSynthesis.speaking && speechSynthesis.paused) {
                // Resume if paused
                speechSynthesis.resume();
            } else {
                // Create new utterance
                currentUtterance = new SpeechSynthesisUtterance(cleanText);
                
                // Configure voice
                const voices = speechSynthesis.getVoices();
                // Try to find a natural-sounding voice
                const preferredVoice = voices.find(voice => 
                    voice.lang.includes('en') && 
                    (voice.name.includes('Google') || voice.name.includes('Natural') || voice.name.includes('Samantha'))
                );
                
                if (preferredVoice) {
                    currentUtterance.voice = preferredVoice;
                }
                
                currentUtterance.rate = 0.9;
                currentUtterance.pitch = 1;
                currentUtterance.volume = 1;
                
                // Event listeners for the utterance
                currentUtterance.onstart = () => {
                    isPlaying = true;
                    playVoiceBtn.disabled = true;
                    pauseVoiceBtn.disabled = false;
                    stopVoiceBtn.disabled = false;
                    voiceStatus.style.display = 'flex';
                    aiVoiceText.classList.add('voice-playing');
                };
                
                currentUtterance.onend = () => {
                    isPlaying = false;
                    playVoiceBtn.disabled = false;
                    pauseVoiceBtn.disabled = true;
                    stopVoiceBtn.disabled = true;
                    voiceStatus.style.display = 'none';
                    aiVoiceText.classList.remove('voice-playing');
                };
                
                currentUtterance.onerror = (event) => {
                    console.error('Speech synthesis error:', event);
                    isPlaying = false;
                    playVoiceBtn.disabled = false;
                    pauseVoiceBtn.disabled = true;
                    stopVoiceBtn.disabled = true;
                    voiceStatus.style.display = 'none';
                    aiVoiceText.classList.remove('voice-playing');
                    
                    // Show user-friendly error message
                    if (event.error === 'not-allowed') {
                        alert('Voice explanation is not allowed in this browser. Please check your browser permissions.');
                    } else {
                        alert('Sorry, there was an error with the voice explanation. Please try again or use the video explanation instead.');
                    }
                };
                
                // Speak the text
                speechSynthesis.speak(currentUtterance);
            }
        }

        function pauseSpeech() {
            if (speechSynthesis.speaking && !speechSynthesis.paused) {
                speechSynthesis.pause();
                isPlaying = false;
                playVoiceBtn.disabled = false;
                pauseVoiceBtn.disabled = true;
                voiceStatus.style.display = 'none';
                aiVoiceText.classList.remove('voice-playing');
            }
        }

        function stopSpeech() {
            speechSynthesis.cancel();
            isPlaying = false;
            playVoiceBtn.disabled = false;
            pauseVoiceBtn.disabled = true;
            stopVoiceBtn.disabled = true;
            voiceStatus.style.display = 'none';
            aiVoiceText.classList.remove('voice-playing');
        }

        // Show warning if speech is not supported
        function showSpeechNotSupportedWarning() {
            const warningDiv = document.createElement('div');
            warningDiv.style.cssText = `
                background-color: #ffebee;
                border: 1px solid #e74c3c;
                border-radius: 8px;
                padding: 1rem;
                margin-bottom: 1rem;
                color: #c62828;
                font-weight: 500;
            `;
            warningDiv.innerHTML = `
                <i class="fas fa-exclamation-triangle" style="margin-right: 0.5rem;"></i>
                Voice explanation is not supported in your browser. Please try using Chrome, Edge, or Safari for this feature.
            `;
            
            // Insert warning at the top of the voice container
            aiVoiceContainer.insertBefore(warningDiv, aiVoiceContainer.firstChild);
            
            // Disable voice controls
            playVoiceBtn.disabled = true;
            pauseVoiceBtn.disabled = true;
            stopVoiceBtn.disabled = true;
        }

        // Initialize voices when they are loaded
        if (isSpeechSupported) {
            speechSynthesis.onvoiceschanged = function() {
                // Voices are loaded, we can use them now
            };
        }

        // Back to Top Button Functionality
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopBtn.classList.add('visible');
            } else {
                backToTopBtn.classList.remove('visible');
            }
        });

        backToTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Mobile Menu Toggle
        const mobileMenu = document.querySelector('.mobile-menu');
        const navMenu = document.querySelector('.nav-menu');

        mobileMenu.addEventListener('click', () => {
            navMenu.classList.toggle('active');
        });

        // Search Functionality
        const searchToggle = document.querySelector('.search-toggle');
        const searchBar = document.querySelector('.search-bar');
        const searchInput = document.querySelector('.search-input');

        // Toggle search bar visibility
        searchToggle.addEventListener('click', () => {
            searchBar.classList.toggle('active');
            if (searchBar.classList.contains('active')) {
                searchInput.focus();
            }
        });

        // Close search bar when clicking outside
        document.addEventListener('click', (e) => {
            if (!searchToggle.contains(e.target) && !searchBar.contains(e.target)) {
                searchBar.classList.remove('active');
            }
        });

        // Close search bar on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                searchBar.classList.remove('active');
                searchInput.value = '';
                
                // Also close search results if open
                const existingResults = document.querySelector('.search-results');
                if (existingResults) {
                    existingResults.remove();
                }
            }
        });

        // Sample search data - you can expand this with more content
        const searchData = [
            { title: "Food Security", content: "Over 75% of global food crops rely on pollinators, contributing US$ 235–577 billion annually to global agricultural output.", section: "key-facts" },
            { title: "Medicine", content: "Over 50% of modern medicines are derived from natural sources, including antibiotics from fungi and painkillers from plant compounds.", section: "key-facts" },
            { title: "Climate Regulation", content: "Forests store 80% of terrestrial biodiversity, absorbing approximately 2.6 billion tonnes of carbon dioxide annually.", section: "key-facts" },
            { title: "Invasive Species", content: "Invasive alien species contribute to 60% of species extinctions, causing US$ 423 billion in global economic damage each year.", section: "key-facts" },
            { title: "Freshwater Resources", content: "Healthy ecosystems provide 75% of global freshwater resources. Since 1970, 35% of wetlands have been lost.", section: "key-facts" },
            { title: "Indigenous Stewardship", content: "Indigenous Peoples manage over 38 million km² of land globally, including nearly 40% of all protected areas.", section: "key-facts" },
            { title: "Habitat Destruction", content: "One-third of the planet's land is now degraded, making it harder to feed our growing global population. Forests, wetlands, and other critical ecosystems are being cleared at alarming rates.", section: "threats" },
            { title: "Unsustainable Practices", content: "Industrial practices like oil drilling, fracking, mining, and factory farming are destroying ecosystems while displacing, contaminating, and killing countless species.", section: "threats" },
            { title: "Zoonotic Spillover", content: "Habitat destruction brings humans and wildlife into closer contact, dramatically increasing our risk of exposure to pathogens that jump from animals to humans.", section: "threats" },
            { title: "Amazon Rainforest Case Study", content: "The Amazon is being destroyed by record levels of deforestation despite being home to one-third of the planet's species — the greatest concentration of biodiversity on Earth.", section: "threats" },
            { title: "Health Impacts", content: "Human health relies on ecosystem resources, products and services. Biodiversity loss can have significant direct health impacts if ecosystem services no longer meet societal needs.", section: "impact" },
            { title: "Economic Consequences", content: "The global economic impact of biodiversity loss amounts to US$ 10 trillion annually, including healthcare costs from increased disease transmission and agricultural losses.", section: "impact" },
            { title: "Social Disruption", content: "Changes in ecosystems can affect livelihoods, income, local migration and may even cause or increase political conflict.", section: "impact" },
            { title: "Long COVID", content: "The health impact of long COVID often disrupts a person's ability to engage with school, work, or relationships for months at a time. People with long COVID need diagnostic and proper rehabilitation support.", section: "health" },
            { title: "Cardiovascular Disease", content: "Cardiovascular diseases are the leading causes of death globally, accounting for 28% of total deaths in 2021. Most can be prevented by addressing modifiable risk factors such as high blood pressure, obesity, and air pollution.", section: "health" },
            { title: "Lower Respiratory Infections", content: "Lower respiratory infections, such as pneumonia and bronchitis, affect the lungs and breathing passages. These infections can be severe, especially for vulnerable populations.", section: "health" },
            { title: "Infectious Diseases", content: "Over 75% of emerging infectious diseases are zoonotic and often arise in areas where ecosystems have been disrupted by deforestation or land-use change.", section: "health" },
            { title: "Wearable Health Technology", content: "Wearables provide continuous monitoring, early detection, and personalized treatment, helping reduce healthcare costs while improving outcomes.", section: "technology" },
            { title: "Telemedicine", content: "Telemedicine enables virtual communication between patients and physicians, eliminating the need for patients to travel to clinics while maintaining quality care.", section: "technology" },
            { title: "Robotic Surgical Systems", content: "Robotic surgery helps doctors perform complex operations with more accuracy, flexibility, and control than traditional methods.", section: "technology" },
            { title: "mRNA Technology", content: "mRNA technology holds promise for treating various diseases, including cancer and genetic disorders, building on its success with COVID-19 vaccines.", section: "technology" },
            { title: "STS Connection", content: "The relationship between biodiversity and human society is complex and bidirectional. While human activities drive biodiversity loss, the resulting ecological degradation threatens human health, food security, and social stability.", section: "sts" },
            { title: "Video Resources", content: "Watch educational videos about biodiversity, its importance, human impacts, and ecosystem services.", section: "videos" }
        ];

        // Function to perform search
        function performSearch(query) {
            if (!query.trim()) return;
            
            const results = searchData.filter(item => 
                item.title.toLowerCase().includes(query.toLowerCase()) ||
                item.content.toLowerCase().includes(query.toLowerCase())
            );
            
            displaySearchResults(results, query);
        }

        // Function to display search results
        function displaySearchResults(results, query) {
            // Remove existing search results if any
            const existingResults = document.querySelector('.search-results');
            if (existingResults) {
                existingResults.remove();
            }
            
            if (results.length === 0) {
                // No results found
                const noResults = document.createElement('div');
                noResults.className = 'search-results';
                noResults.innerHTML = `
                    <div class="search-results-content">
                        <h3>No results found for "${query}"</h3>
                        <p>Try searching with different keywords.</p>
                        <button class="close-results">Close</button>
                    </div>
                `;
                document.body.appendChild(noResults);
                
                // Close results when clicking close button
                noResults.querySelector('.close-results').addEventListener('click', () => {
                    noResults.remove();
                });
                
                // Close results when clicking outside
                noResults.addEventListener('click', (e) => {
                    if (e.target === noResults) {
                        noResults.remove();
                    }
                });
                
                return;
            }
            
            // Create results container
            const resultsContainer = document.createElement('div');
            resultsContainer.className = 'search-results';
            resultsContainer.innerHTML = `
                <div class="search-results-content">
                    <h3>Search Results for "${query}"</h3>
                    <div class="results-list">
                        ${results.map(result => `
                            <div class="result-item" data-section="${result.section}">
                                <h4>${result.title}</h4>
                                <p>${result.content.substring(0, 100)}...</p>
                                <span class="result-section">${result.section.replace('-', ' ').toUpperCase()}</span>
                            </div>
                        `).join('')}
                    </div>
                    <button class="close-results">Close</button>
                </div>
            `;
            
            document.body.appendChild(resultsContainer);
            
            // Add event listeners to result items
            resultsContainer.querySelectorAll('.result-item').forEach(item => {
                item.addEventListener('click', () => {
                    const section = item.getAttribute('data-section');
                    const targetElement = document.getElementById(section);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close search results
                        resultsContainer.remove();
                        
                        // Clear search bar and close it
                        searchInput.value = '';
                        searchBar.classList.remove('active');
                    }
                });
            });
            
            // Close results when clicking close button
            resultsContainer.querySelector('.close-results').addEventListener('click', () => {
                resultsContainer.remove();
            });
            
            // Close results when clicking outside
            resultsContainer.addEventListener('click', (e) => {
                if (e.target === resultsContainer) {
                    resultsContainer.remove();
                }
            });
        }

        // Event listeners for search
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const query = searchInput.value.trim();
                if (query) {
                    performSearch(query);
                }
            }
        });

        // Timeline Expand/Collapse Functionality
        const expandBtn = document.querySelector('.expand-timeline-btn');
        const collapseBtn = document.querySelector('.collapse-timeline-btn');
        const fullTimeline = document.getElementById('fullTimeline');

        if (expandBtn && collapseBtn && fullTimeline) {
            expandBtn.addEventListener('click', () => {
                fullTimeline.classList.add('active');
                // Scroll to the full timeline
                fullTimeline.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });

            collapseBtn.addEventListener('click', () => {
                fullTimeline.classList.remove('active');
                // Scroll back to the overview
                document.querySelector('.timeline-overview').scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        }

        // Interactive Stats Counter
        function animateStats() {
            const statNumbers = document.querySelectorAll('.stat-number');
            
            statNumbers.forEach(stat => {
                const target = parseInt(stat.getAttribute('data-target'));
                const increment = target / 100;
                let current = 0;
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        stat.textContent = target + (stat.getAttribute('data-target') === '75' ? '%' : '%');
                        clearInterval(timer);
                    } else {
                        stat.textContent = Math.floor(current) + (stat.getAttribute('data-target') === '75' ? '%' : '%');
                    }
                }, 20);
            });
        }
        
        // Initialize stats animation when in viewport
        const statsSection = document.querySelector('.stats-counter');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateStats();
                    observer.unobserve(entry.target);
                }
            });
        });
        
        if (statsSection) {
            observer.observe(statsSection);
        }

        // Interactive Ecosystem Visualization
        const ecosystemCanvas = document.getElementById('ecosystemCanvas');
        const ctx = ecosystemCanvas.getContext('2d');
        
        // Set canvas dimensions
        function setCanvasDimensions() {
            ecosystemCanvas.width = ecosystemCanvas.parentElement.offsetWidth;
            ecosystemCanvas.height = ecosystemCanvas.parentElement.offsetHeight;
        }
        
        setCanvasDimensions();
        window.addEventListener('resize', setCanvasDimensions);
        
        // Ecosystem simulation variables
        let species = [];
        let threats = [];
        let ecosystemHealth = 100;
        
        // Species class
        class Species {
            constructor(type, x, y) {
                this.type = type; // 'plant', 'herbivore', 'carnivore'
                this.x = x;
                this.y = y;
                this.size = type === 'plant' ? 5 : type === 'herbivore' ? 8 : 10;
                this.speed = type === 'plant' ? 0 : type === 'herbivore' ? 1 : 1.5;
                this.direction = Math.random() * Math.PI * 2;
                this.energy = 100;
                this.color = this.getColor();
            }
            
            getColor() {
                switch(this.type) {
                    case 'plant': return '#1a5d1a';
                    case 'herbivore': return '#ff6b35';
                    case 'carnivore': return '#e74c3c';
                    default: return '#000000';
                }
            }
            
            update() {
                // Plants don't move
                if (this.type === 'plant') return;
                
                // Change direction randomly
                if (Math.random() < 0.02) {
                    this.direction = Math.random() * Math.PI * 2;
                }
                
                // Move
                this.x += Math.cos(this.direction) * this.speed;
                this.y += Math.sin(this.direction) * this.speed;
                
                // Bounce off walls
                if (this.x < this.size || this.x > ecosystemCanvas.width - this.size) {
                    this.direction = Math.PI - this.direction;
                }
                if (this.y < this.size || this.y > ecosystemCanvas.height - this.size) {
                    this.direction = -this.direction;
                }
                
                // Keep within bounds
                this.x = Math.max(this.size, Math.min(ecosystemCanvas.width - this.size, this.x));
                this.y = Math.max(this.size, Math.min(ecosystemCanvas.height - this.size, this.y));
                
                // Lose energy
                this.energy -= 0.1;
                
                // Die if no energy
                if (this.energy <= 0) {
                    const index = species.indexOf(this);
                    if (index > -1) {
                        species.splice(index, 1);
                    }
                }
            }
            
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = this.color;
                ctx.fill();
                
                // Draw energy indicator for animals
                if (this.type !== 'plant') {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size + 2, 0, (this.energy / 100) * Math.PI * 2);
                    ctx.strokeStyle = this.energy > 50 ? '#1a5d1a' : this.energy > 20 ? '#ff6b35' : '#e74c3c';
                    ctx.lineWidth = 2;
                    ctx.stroke();
                }
            }
        }
        
        // Threat class
        class Threat {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.radius = 0;
                this.maxRadius = 100;
                this.growthRate = 2;
                this.active = true;
            }
            
            update() {
                if (this.radius < this.maxRadius) {
                    this.radius += this.growthRate;
                } else {
                    this.active = false;
                }
                
                // Check for species in threat radius
                species.forEach(spec => {
                    const dx = spec.x - this.x;
                    const dy = spec.y - this.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < this.radius + spec.size) {
                        // Reduce species energy
                        spec.energy -= 5;
                        
                        // Small chance of immediate death
                        if (Math.random() < 0.1) {
                            const index = species.indexOf(spec);
                            if (index > -1) {
                                species.splice(index, 1);
                            }
                        }
                    }
                });
            }
            
            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(231, 76, 60, 0.3)';
                ctx.fill();
                ctx.strokeStyle = 'rgba(231, 76, 60, 0.7)';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }
        
        // Initialize ecosystem with some species
        function initializeEcosystem() {
            species = [];
            
            // Add some plants
            for (let i = 0; i < 20; i++) {
                species.push(new Species(
                    'plant',
                    Math.random() * ecosystemCanvas.width,
                    Math.random() * ecosystemCanvas.height
                ));
            }
            
            // Add some herbivores
            for (let i = 0; i < 8; i++) {
                species.push(new Species(
                    'herbivore',
                    Math.random() * ecosystemCanvas.width,
                    Math.random() * ecosystemCanvas.height
                ));
            }
            
            // Add some carnivores
            for (let i = 0; i < 3; i++) {
                species.push(new Species(
                    'carnivore',
                    Math.random() * ecosystemCanvas.width,
                    Math.random() * ecosystemCanvas.height
                ));
            }
            
            threats = [];
            ecosystemHealth = 100;
        }
        
        // Draw ecosystem
        function drawEcosystem() {
            // Clear canvas
            ctx.clearRect(0, 0, ecosystemCanvas.width, ecosystemCanvas.height);
            
            // Draw background
            ctx.fillStyle = '#E8F5E9';
            ctx.fillRect(0, 0, ecosystemCanvas.width, ecosystemCanvas.height);
            
            // Draw species
            species.forEach(spec => {
                spec.draw();
            });
            
            // Draw threats
            threats.forEach(threat => {
                threat.draw();
            });
            
            // Draw ecosystem health indicator
            ctx.fillStyle = ecosystemHealth > 70 ? '#1a5d1a' : ecosystemHealth > 40 ? '#ff6b35' : '#e74c3c';
            ctx.fillRect(10, 10, ecosystemHealth * 2, 20);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.strokeRect(10, 10, 200, 20);
            
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.fillText(`Ecosystem Health: ${Math.round(ecosystemHealth)}%`, 220, 25);
            
            // Draw species count
            const plantCount = species.filter(s => s.type === 'plant').length;
            const herbivoreCount = species.filter(s => s.type === 'herbivore').length;
            const carnivoreCount = species.filter(s => s.type === 'carnivore').length;
            
            ctx.fillText(`Plants: ${plantCount}`, 10, 50);
            ctx.fillText(`Herbivores: ${herbivoreCount}`, 10, 70);
            ctx.fillText(`Carnivores: ${carnivoreCount}`, 10, 90);
        }
        
        // Update ecosystem
        function updateEcosystem() {
            // Update species
            species.forEach(spec => {
                spec.update();
            });
            
            // Update threats
            threats.forEach((threat, index) => {
                threat.update();
                if (!threat.active) {
                    threats.splice(index, 1);
                }
            });
            
            // Calculate ecosystem health based on species diversity and count
            const totalSpecies = species.length;
            const plantCount = species.filter(s => s.type === 'plant').length;
            const herbivoreCount = species.filter(s => s.type === 'herbivore').length;
            const carnivoreCount = species.filter(s => s.type === 'carnivore').length;
            
            // Health calculation (simplified)
            const maxSpecies = 50;
            const diversityScore = (plantCount > 0 ? 1 : 0) + (herbivoreCount > 0 ? 1 : 0) + (carnivoreCount > 0 ? 1 : 0);
            
            ecosystemHealth = Math.min(100, (totalSpecies / maxSpecies) * 70 + (diversityScore / 3) * 30);
            
            drawEcosystem();
        }
        
        // Ecosystem controls
        document.getElementById('addSpecies').addEventListener('click', () => {
            const types = ['plant', 'herbivore', 'carnivore'];
            const randomType = types[Math.floor(Math.random() * types.length)];
            
            species.push(new Species(
                randomType,
                Math.random() * ecosystemCanvas.width,
                Math.random() * ecosystemCanvas.height
            ));
        });
        
        document.getElementById('removeSpecies').addEventListener('click', () => {
            if (species.length > 0) {
                species.splice(Math.floor(Math.random() * species.length), 1);
            }
        });
        
        document.getElementById('simulateThreat').addEventListener('click', () => {
            threats.push(new Threat(
                Math.random() * ecosystemCanvas.width,
                Math.random() * ecosystemCanvas.height
            ));
        });
        
        document.getElementById('resetEcosystem').addEventListener('click', () => {
            initializeEcosystem();
        });
        
        // Initialize and start ecosystem simulation
        initializeEcosystem();
        setInterval(updateEcosystem, 50);

        // Interactive Species Explorer
        const speciesData = [
            {
                name: "Sumatran Tiger",
                status: "Critically Endangered",
                image: "sumatran-tiger.jpg",
                description: "The Sumatran tiger is the smallest of all tiger subspecies and is found only on the Indonesian island of Sumatra. With fewer than 400 individuals remaining in the wild, it is critically endangered due to habitat loss and poaching.",
                population: "Decreasing",
                threats: "Habitat loss, poaching, human-wildlife conflict",
                efforts: "Protected areas, anti-poaching patrols, community education"
            },
            {
                name: "Black Rhinoceros",
                status: "Critically Endangered",
                image: "black-rhino.jpg",
                description: "The black rhinoceros is native to eastern and southern Africa. Despite its name, it is actually gray in color. It is critically endangered due to poaching for its horn, which is highly valued in traditional medicine.",
                population: "Increasing",
                threats: "Poaching, habitat loss",
                efforts: "Anti-poaching measures, habitat protection, breeding programs"
            },
            {
                name: "Mountain Gorilla",
                status: "Endangered",
                image: "mountain-gorilla.jpg",
                description: "Mountain gorillas are found in the volcanic mountains of Central Africa. They have thicker fur than other gorillas, allowing them to live at higher altitudes. Conservation efforts have helped increase their population in recent years.",
                population: "Increasing",
                threats: "Habitat loss, poaching, disease",
                efforts: "Protected areas, tourism regulation, veterinary care"
            },
            {
                name: "Hawksbill Sea Turtle",
                status: "Critically Endangered",
                image: "hawksbill-turtle.jpg",
                description: "The hawksbill sea turtle is found in tropical reefs of the Indian, Pacific, and Atlantic Oceans. It is named for its narrow, pointed beak. It is critically endangered due to hunting for its beautiful shell and habitat loss.",
                population: "Decreasing",
                threats: "Poaching, habitat loss, climate change",
                efforts: "Protected nesting beaches, fishing regulations, awareness campaigns"
            },
            {
                name: "Blue Whale",
                status: "Endangered",
                image: "blue-whale.jpg",
                description: "The blue whale is the largest animal ever known to have existed. It can reach lengths of up to 100 feet and weigh as much as 200 tons. Despite being protected, it remains endangered due to historical whaling and current threats like ship strikes.",
                population: "Increasing",
                threats: "Ship strikes, entanglement, noise pollution",
                efforts: "Shipping lane adjustments, protected areas, research"
            },
            {
                name: "Polar Bear",
                status: "Vulnerable",
                image: "polar-bear.jpg",
                description: "Polar bears are the largest land carnivores and are uniquely adapted to life in the Arctic. They depend on sea ice to hunt seals, their primary food source. Climate change is causing rapid loss of their sea ice habitat.",
                population: "Decreasing",
                threats: "Climate change, pollution, oil exploration",
                efforts: "Climate action, protected areas, research"
            }
        ];
        
        // Generate species cards
        const speciesGrid = document.getElementById('speciesGrid');
        
        speciesData.forEach((species, index) => {
            const card = document.createElement('div');
            card.className = 'species-card';
            card.innerHTML = `
                <div class="species-image" style="background-image: url('${species.image}')">
                    <div class="species-overlay">
                        <div class="species-name">${species.name}</div>
                        <div class="species-status">${species.status}</div>
                    </div>
                </div>
                <div class="species-details">
                    <p>${species.description.substring(0, 100)}...</p>
                </div>
            `;
            
            card.addEventListener('click', () => {
                openSpeciesModal(index);
            });
            
            speciesGrid.appendChild(card);
        });
        
        // Species modal functionality
        const speciesModal = document.getElementById('speciesModal');
        const closeSpeciesModal = document.getElementById('closeSpeciesModal');
        
        function openSpeciesModal(index) {
            const species = speciesData[index];
            
            document.getElementById('modalSpeciesName').textContent = species.name;
            document.getElementById('modalSpeciesImage').style.backgroundImage = `url('${species.image}')`;
            document.getElementById('modalSpeciesDescription').textContent = species.description;
            document.getElementById('modalSpeciesStatus').textContent = species.status;
            document.getElementById('modalSpeciesTrend').textContent = species.population;
            document.getElementById('modalSpeciesThreats').textContent = species.threats;
            document.getElementById('modalSpeciesEfforts').textContent = species.efforts;
            
            speciesModal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        closeSpeciesModal.addEventListener('click', () => {
            speciesModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });
        
        speciesModal.addEventListener('click', (e) => {
            if (e.target === speciesModal) {
                speciesModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
        });

        // Interactive Impact Calculator
        const calculateBtn = document.getElementById('calculateImpact');
        
        calculateBtn.addEventListener('click', () => {
            const forestArea = parseInt(document.getElementById('forestArea').value) || 0;
            const speciesLost = parseInt(document.getElementById('speciesLost').value) || 0;
            const pollutionLevel = parseInt(document.getElementById('pollutionLevel').value) || 1;
            
            // Calculate impacts (simplified calculations)
            const co2Lost = forestArea * 6; // 6 tons CO2 per hectare per year
            const economicCost = forestArea * 5000 + speciesLost * 100000; // Simplified economic valuation
            const recoveryTime = Math.max(10, forestArea / 100 + speciesLost * 5); // Years
            const ecosystemHealth = Math.max(0, 100 - (forestArea / 100) - (speciesLost * 10) - (pollutionLevel * 5));
            
            // Update results
            document.getElementById('co2Result').textContent = co2Lost.toLocaleString() + ' tons/year';
            document.getElementById('economicResult').textContent = '$' + economicCost.toLocaleString();
            document.getElementById('recoveryResult').textContent = recoveryTime.toFixed(1) + ' years';
            document.getElementById('healthResult').textContent = ecosystemHealth.toFixed(1) + '%';
        });

        // Quiz functionality
        const quizIntro = document.getElementById('quizIntro');
        const quizContent = document.getElementById('quizContent');
        const quizResults = document.getElementById('quizResults');
        const startQuizBtn = document.getElementById('startQuiz');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const quizFeedback = document.getElementById('quizFeedback');
        const feedbackTitle = document.getElementById('feedbackTitle');
        const feedbackText = document.getElementById('feedbackText');
        const nextQuestionBtn = document.getElementById('nextQuestion');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const scoreValue = document.getElementById('scoreValue');
        const scorePercentage = document.getElementById('scorePercentage');
        const resultsMessage = document.getElementById('resultsMessage');
        const retryQuizBtn = document.getElementById('retryQuiz');

        let currentQuestion = 0;
        let score = 0;
        let userAnswers = [];
        let shuffledQuestions = [];
        let shuffledOptions = [];

        // Quiz questions - expanded to 20 questions
        const quizQuestions = [
            {
                question: "What percentage of global food crops rely on pollinators?",
                options: ["25%", "50%", "75%", "90%"],
                correctAnswer: 2,
                explanation: "Over 75% of global food crops rely on pollinators, contributing US$ 235–577 billion annually to global agricultural output."
            },
            {
                question: "Which of these is NOT a major threat to biodiversity?",
                options: ["Habitat destruction", "Climate change", "Overexploitation", "Solar energy"],
                correctAnswer: 3,
                explanation: "Solar energy is a renewable energy source and not a threat to biodiversity. The major threats include habitat destruction, climate change, and overexploitation."
            },
            {
                question: "How many species are currently facing extinction according to the UN?",
                options: ["100,000", "500,000", "1 million", "5 million"],
                correctAnswer: 2,
                explanation: "According to the United Nations, more than 1 million species are currently facing extinction due to human activities."
            },
            {
                question: "What percentage of emerging infectious diseases are zoonotic?",
                options: ["25%", "50%", "75%", "90%"],
                correctAnswer: 2,
                explanation: "Over 75% of emerging infectious diseases are zoonotic, meaning they jump from animals to humans, often due to habitat destruction."
            },
            {
                question: "Which ecosystem stores the most terrestrial biodiversity?",
                options: ["Deserts", "Grasslands", "Forests", "Oceans"],
                correctAnswer: 2,
                explanation: "Forests store 80% of terrestrial biodiversity, making them critical for maintaining global biodiversity."
            },
            {
                question: "What is the estimated annual economic impact of biodiversity loss?",
                options: ["$1 trillion", "$5 trillion", "$10 trillion", "$20 trillion"],
                correctAnswer: 2,
                explanation: "The global economic impact of biodiversity loss amounts to US$ 10 trillion annually, including healthcare costs and agricultural losses."
            },
            {
                question: "Which group manages nearly 40% of all protected areas globally?",
                options: ["Government agencies", "Private corporations", "Indigenous Peoples", "International NGOs"],
                correctAnswer: 2,
                explanation: "Indigenous Peoples manage over 38 million km² of land globally, including nearly 40% of all protected areas."
            },
            {
                question: "What percentage of modern medicines are derived from natural sources?",
                options: ["25%", "50%", "75%", "90%"],
                correctAnswer: 1,
                explanation: "Over 50% of modern medicines are derived from natural sources, including antibiotics from fungi and painkillers from plant compounds."
            },
            {
                question: "Which international agreement set targets to protect 30% of the planet by 2030?",
                options: ["Paris Agreement", "Kyoto Protocol", "Kunming-Montreal Framework", "Copenhagen Accord"],
                correctAnswer: 2,
                explanation: "The Kunming-Montreal Global Biodiversity Framework, adopted in 2022, set the target to protect 30% of the planet by 2030."
            },
            {
                question: "What is the 'One Health' approach?",
                options: [
                    "Focusing only on human health",
                    "A holistic approach linking animal, human, and environmental health",
                    "A diet plan for better health",
                    "A technology for health monitoring"
                ],
                correctAnswer: 1,
                explanation: "The 'One Health' approach recognizes the indivisible link between animal, human, and environmental well-being."
            },
            {
                question: "What percentage of Earth's land is now considered degraded?",
                options: ["15%", "25%", "33%", "50%"],
                correctAnswer: 2,
                explanation: "One-third (33%) of the planet's land is now degraded, making it harder to feed our growing global population."
            },
            {
                question: "Which of these contributes to 60% of species extinctions?",
                options: ["Climate change", "Invasive alien species", "Pollution", "Overfishing"],
                correctAnswer: 1,
                explanation: "Invasive alien species contribute to 60% of species extinctions, causing US$ 423 billion in global economic damage each year."
            },
            {
                question: "Since 1970, what percentage of wetlands have been lost globally?",
                options: ["15%", "25%", "35%", "45%"],
                correctAnswer: 2,
                explanation: "Since 1970, 35% of wetlands have been lost globally, despite healthy ecosystems providing 75% of global freshwater resources."
            },
            {
                question: "What is the primary cause of zoonotic spillover?",
                options: [
                    "Climate change",
                    "Habitat destruction bringing humans and wildlife into closer contact",
                    "Air pollution",
                    "Genetic modification of crops"
                ],
                correctAnswer: 1,
                explanation: "Habitat destruction brings humans and wildlife into closer contact, dramatically increasing our risk of exposure to pathogens that jump from animals to humans."
            },
            {
                question: "Which technology is revolutionizing healthcare by providing continuous monitoring?",
                options: ["Telemedicine", "Wearable health technology", "Robotic surgery", "mRNA technology"],
                correctAnswer: 1,
                explanation: "Wearable health technology provides continuous monitoring, early detection, and personalized treatment, helping reduce healthcare costs while improving outcomes."
            },
            {
                question: "What does STS stand for in the context of biodiversity?",
                options: [
                    "Science, Technology, Society",
                    "Systematic Technical Solutions",
                    "Sustainable Technology Systems",
                    "Scientific Technical Standards"
                ],
                correctAnswer: 0,
                explanation: "STS stands for Science, Technology, and Society, representing the integrated approach to addressing biodiversity threats through scientific understanding, technological solutions, and societal action."
            },
            {
                question: "Which of these is a key solution to protect biodiversity mentioned in the website?",
                options: [
                    "Increasing industrial agriculture",
                    "Protecting and restoring natural habitats",
                    "Expanding urban development",
                    "Promoting single-use plastics"
                ],
                correctAnswer: 1,
                explanation: "Protecting and restoring natural habitats is a key solution mentioned, as conservation is essential to maintaining the delicate balance of our ecosystems."
            },
            {
                question: "What is the main focus of the Amazon Rainforest case study?",
                options: [
                    "Economic benefits of deforestation",
                    "Record levels of deforestation threatening biodiversity",
                    "Success of agricultural expansion",
                    "Urban development opportunities"
                ],
                correctAnswer: 1,
                explanation: "The Amazon Rainforest case study focuses on how record levels of deforestation are threatening the region's incredible biodiversity, despite it being home to one-third of the planet's species."
            },
            {
                question: "Which of these is NOT a level of biodiversity?",
                options: ["Genetic diversity", "Species diversity", "Ecosystem diversity", "Economic diversity"],
                correctAnswer: 3,
                explanation: "The three main levels of biodiversity are genetic diversity, species diversity, and ecosystem diversity. Economic diversity is not a level of biodiversity."
            },
            {
                question: "What role does technology play in biodiversity conservation?",
                options: [
                    "It has no significant role",
                    "It offers tools for monitoring and mitigation",
                    "It primarily focuses on economic development",
                    "It replaces the need for conservation efforts"
                ],
                correctAnswer: 1,
                explanation: "Technology offers tools for monitoring, mitigation, and conservation solutions, from satellite imagery to genetic sequencing and AI-powered camera traps."
            }
        ];

        // Function to shuffle array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        // Function to shuffle questions and options
        function shuffleQuiz() {
            // Shuffle the questions
            shuffledQuestions = shuffleArray(quizQuestions);
            
            // For each question, shuffle the options and track the new correct answer position
            shuffledQuestions = shuffledQuestions.map(question => {
                // Create an array of option indices [0, 1, 2, 3]
                const optionIndices = question.options.map((_, index) => index);
                
                // Shuffle the option indices
                const shuffledIndices = shuffleArray(optionIndices);
                
                // Create new options array with shuffled order
                const shuffledOptions = shuffledIndices.map(index => question.options[index]);
                
                // Find the new position of the correct answer
                const newCorrectAnswer = shuffledIndices.indexOf(question.correctAnswer);
                
                // Return the question with shuffled options and updated correct answer
                return {
                    ...question,
                    options: shuffledOptions,
                    correctAnswer: newCorrectAnswer
                };
            });
        }

        // Start quiz
        startQuizBtn.addEventListener('click', () => {
            // Shuffle questions and options
            shuffleQuiz();
            
            quizIntro.style.display = 'none';
            quizContent.style.display = 'block';
            loadQuestion();
        });

        // Load question
        function loadQuestion() {
            const question = shuffledQuestions[currentQuestion];
            questionText.textContent = question.question;
            
            // Update progress
            const progress = ((currentQuestion) / shuffledQuestions.length) * 100;
            progressFill.style.width = `${progress}%`;
            progressText.textContent = `Question ${currentQuestion + 1} of ${shuffledQuestions.length}`;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                optionElement.addEventListener('click', selectOption);
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide feedback
            quizFeedback.style.display = 'none';
        }

        // Select option
        function selectOption(e) {
            const selectedOption = e.target;
            const selectedIndex = parseInt(selectedOption.dataset.index);
            const question = shuffledQuestions[currentQuestion];
            
            // Disable all options
            const allOptions = optionsContainer.querySelectorAll('.option');
            allOptions.forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Check if correct
            const isCorrect = selectedIndex === question.correctAnswer;
            
            if (isCorrect) {
                selectedOption.classList.add('correct');
                score++;
                scoreValue.textContent = score;
            } else {
                selectedOption.classList.add('incorrect');
                // Highlight correct answer
                allOptions[question.correctAnswer].classList.add('correct');
            }
            
            // Store user answer
            userAnswers.push({
                question: question.question,
                userAnswer: selectedIndex,
                correctAnswer: question.correctAnswer,
                isCorrect: isCorrect
            });
            
            // Show feedback
            showFeedback(isCorrect, question.explanation);
        }

        // Show feedback
        function showFeedback(isCorrect, explanation) {
            quizFeedback.style.display = 'block';
            
            if (isCorrect) {
                feedbackTitle.textContent = 'Correct!';
                feedbackTitle.className = 'correct';
            } else {
                feedbackTitle.textContent = 'Incorrect';
                feedbackTitle.className = 'incorrect';
            }
            
            feedbackText.textContent = explanation;
        }

        // Next question
        nextQuestionBtn.addEventListener('click', () => {
            currentQuestion++;
            
            if (currentQuestion < shuffledQuestions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        });

        // Enhanced showResults function with confetti
        function showResults() {
            quizContent.style.display = 'none';
            quizResults.style.display = 'block';
            
            const percentage = Math.round((score / shuffledQuestions.length) * 100);
            scorePercentage.textContent = `${percentage}%`;
            
            // Set results message based on score
            let message, level, icon, title, description, badges, recommendations;
            
            if (percentage >= 90) {
                level = "expert";
                icon = "fas fa-crown";
                title = "Biodiversity Expert!";
                description = "Your knowledge about ecosystems and conservation is truly impressive. You understand the intricate connections between biodiversity and human well-being.";
                badges = [
                    { text: "Ecosystem Expert", class: "expert" },
                    { text: "Conservation Champion", class: "expert" }
                ];
                recommendations = [
                    "Consider sharing your knowledge with others",
                    "Get involved in local conservation efforts",
                    "Explore advanced topics in ecological science"
                ];
                message = "Excellent! You're a biodiversity expert! Your knowledge about ecosystems and conservation is impressive.";
                
                // Trigger confetti for high scores
                createConfetti();
                
            } else if (percentage >= 70) {
                level = "advanced";
                icon = "fas fa-seedling";
                title = "Biodiversity Advocate!";
                description = "You have a solid understanding of biodiversity issues and their importance to our planet. You're well on your way to becoming an expert.";
                badges = [
                    { text: "Nature Advocate", class: "advanced" },
                    { text: "Eco-Learner", class: "advanced" }
                ];
                recommendations = [
                    "Explore our Threats section to deepen your knowledge",
                    "Learn about local biodiversity in your area",
                    "Consider reducing your ecological footprint"
                ];
                message = "Great job! You have a solid understanding of biodiversity issues and their importance to our planet.";
                
                // Trigger confetti for good scores
                createConfetti();
                
            } else if (percentage >= 50) {
                level = "intermediate";
                icon = "fas fa-leaf";
                title = "Growing Knowledge!";
                description = "You know some key facts about biodiversity, but there's more to discover about this critical topic. Keep learning to become a biodiversity champion.";
                badges = [
                    { text: "Nature Explorer", class: "intermediate" },
                    { text: "Learning Journey", class: "intermediate" }
                ];
                recommendations = [
                    "Review the Key Facts section",
                    "Learn about how biodiversity affects your daily life",
                    "Try the quiz again after exploring the site"
                ];
                message = "Good effort! You know some key facts about biodiversity, but there's more to learn about this critical topic.";
            } else {
                level = "beginner";
                icon = "fas fa-heart";
                title = "Getting Started!";
                description = "Don't worry! Biodiversity is a complex topic. Every expert was once a beginner. Explore our website to learn more about these important issues.";
                badges = [
                    { text: "Nature Newcomer", class: "beginner" },
                    { text: "Learning Path", class: "beginner" }
                ];
                recommendations = [
                    "Start with the Overview section",
                    "Check out the Key Facts for essential information",
                    "Take the quiz again after exploring the site"
                ];
                message = "Don't worry! Biodiversity is a complex topic. Explore our website to learn more about these important issues.";
            }
            
            // Update results message
            resultsMessage.textContent = message;
            
            // Generate score-based feedback
            const scoreFeedback = document.getElementById('scoreFeedback');
            scoreFeedback.className = `score-feedback ${level}`;
            
            scoreFeedback.innerHTML = `
                <div class="feedback-icon">
                    <i class="${icon}"></i>
                </div>
                <h3 class="feedback-title">${title}</h3>
                <p class="feedback-description">${description}</p>
                
                <div class="feedback-badges">
                    ${badges.map(badge => `
                        <div class="badge ${badge.class}">
                            <i class="fas fa-award"></i>
                            <span>${badge.text}</span>
                        </div>
                    `).join('')}
                </div>
                
                <div class="recommendations">
                    <h4>Recommended Next Steps:</h4>
                    <ul>
                        ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                    </ul>
                </div>
            `;
            
            // Update saveable results
            saveableResults.innerHTML = `
                <div class="score-circle">
                    <div class="circle-background"></div>
                    <div class="circle-content">
                        <span class="score-percentage">${percentage}%</span>
                        <span class="score-label">Your Score</span>
                    </div>
                </div>
                
                <div class="feedback-icon">
                    <i class="${icon}"></i>
                </div>
                <h3 class="feedback-title">${title}</h3>
                <p class="feedback-description">${description}</p>
                
                <div class="feedback-badges">
                    ${badges.map(badge => `
                        <div class="badge ${badge.class}">
                            <i class="fas fa-award"></i>
                            <span>${badge.text}</span>
                        </div>
                    `).join('')}
                </div>
                
                <div class="recommendations">
                    <h4>Recommended Next Steps:</h4>
                    <ul>
                        ${recommendations.map(rec => `<li>${rec}</li>`).join('')}
                    </ul>
                </div>
                
                <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
                <p><strong>Quiz:</strong> Biodiversity Knowledge Assessment</p>
            `;
        }

        // Function to create confetti effect
        function createConfetti() {
            const confettiCanvas = document.createElement('canvas');
            confettiCanvas.id = 'confetti-canvas';
            document.body.appendChild(confettiCanvas);
            
            const ctx = confettiCanvas.getContext('2d');
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
            
            const confettiPieces = [];
            const colors = ['#1a5d1a', '#2e8b2e', '#ff6b35', '#3498db', '#e74c3c'];
            
            // Create confetti pieces
            for (let i = 0; i < 150; i++) {
                confettiPieces.push({
                    x: Math.random() * confettiCanvas.width,
                    y: Math.random() * confettiCanvas.height - confettiCanvas.height,
                    size: Math.random() * 10 + 5,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speed: Math.random() * 3 + 2,
                    rotation: Math.random() * 360,
                    rotationSpeed: Math.random() * 10 - 5
                });
            }
            
            // Animate confetti
            function animateConfetti() {
                ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
                
                let activePieces = 0;
                
                confettiPieces.forEach(piece => {
                    piece.y += piece.speed;
                    piece.rotation += piece.rotationSpeed;
                    
                    if (piece.y < confettiCanvas.height) {
                        activePieces++;
                        
                        ctx.save();
                        ctx.translate(piece.x, piece.y);
                        ctx.rotate(piece.rotation * Math.PI / 180);
                        ctx.fillStyle = piece.color;
                        ctx.fillRect(-piece.size / 2, -piece.size / 2, piece.size, piece.size);
                        ctx.restore();
                    }
                });
                
                if (activePieces > 0) {
                    requestAnimationFrame(animateConfetti);
                } else {
                    // Remove canvas after animation completes
                    setTimeout(() => {
                        if (confettiCanvas.parentNode) {
                            confettiCanvas.parentNode.removeChild(confettiCanvas);
                        }
                    }, 1000);
                }
            }
            
            animateConfetti();
        }

        // Save Results Button in Quiz
        saveResultsBtnInQuiz.addEventListener('click', () => {
            openSaveResultsModal();
        });

        // Retry quiz
        retryQuizBtn.addEventListener('click', () => {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            scoreValue.textContent = '0';
            
            // Shuffle questions and options again for retry
            shuffleQuiz();
            
            quizResults.style.display = 'none';
            quizContent.style.display = 'block';
            loadQuestion();
        });

        // Smooth Scrolling for Navigation Links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                    
                    // Close mobile menu after clicking a link
                    if(navMenu.classList.contains('active')) {
                        navMenu.classList.remove('active');
                    }
                    
                    // Close search bar if open
                    searchBar.classList.remove('active');
                }
            });
        });

        // Active Navigation Link
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('nav ul li a');

        window.addEventListener('scroll', () => {
            let current = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if(pageYOffset >= (sectionTop - 100)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if(link.getAttribute('href') === `#${current}`) {
                    link.classList.add('active');
                }
            });
        });

        // Add scroll effect to header
        const header = document.getElementById('header');
        
        window.addEventListener('scroll', () => {
            if(window.scrollY > 100) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
    </script>
    <!-- Include html2canvas library for save functionality -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
</body>
</html>
